!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).SplitPolygonMode={})}(this,(function(e){"use strict";function t(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return n(e);case"FeatureCollection":return function(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"features":return;default:t[n]=e[n]}})),t.features=e.features.map((function(e){return n(e)})),t}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return i(e);default:throw new Error("unknown GeoJSON type")}}function n(e){var t={type:"Feature"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:t[n]=e[n]}})),t.properties=r(e.properties),t.geometry=i(e.geometry),t}function r(e){var t={};return e?(Object.keys(e).forEach((function(n){var i=e[n];"object"==typeof i?null===i?t[n]=null:Array.isArray(i)?t[n]=i.map((function(e){return e})):t[n]=r(i):t[n]=i})),t):t}function i(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((function(e){return i(e)})),t):(t.coordinates=o(e.coordinates),t)}function o(e){var t=e;return"object"!=typeof t[0]?t.slice():t.map((function(e){return o(e)}))}function s(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function l(e){for(var t,n,r=s(e),i=0,o=1;o<r.length;)t=n||r[0],i+=((n=r[o])[0]-t[0])*(n[1]+t[1]),o++;return i>0}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function a(e,t){var n,r,i,o,s,l,u,a,h,c,f=0,p="FeatureCollection"===e.type,g="Feature"===e.type,y=p?e.features.length:1;for(n=0;n<y;n++){for(l=p?e.features[n].geometry:g?e.geometry:e,a=p?e.features[n].properties:g?e.properties:{},h=p?e.features[n].bbox:g?e.bbox:void 0,c=p?e.features[n].id:g?e.id:void 0,s=(u=!!l&&"GeometryCollection"===l.type)?l.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?l.geometries[i]:l))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,f,a,h,c))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===t(o.geometries[r],f,a,h,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,a,h,c))return!1;f++}}function h(e,n){if(!(r=n=n||{})||r.constructor!==Object)throw new Error("options is invalid");var r,i=n.reverse||!1,o=n.mutate||!1;if(!e)throw new Error("<geojson> is required");if("boolean"!=typeof i)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof o)throw new Error("<mutate> must be a boolean");!1===o&&(e=t(e));var s=[];switch(e.type){case"GeometryCollection":return a(e,(function(e){c(e,i)})),e;case"FeatureCollection":return u(e,(function(e){u(c(e,i),(function(e){s.push(e)}))})),function(e,t){void 0===t&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}(s)}return c(e,i)}function c(e,t){switch("Feature"===e.type?e.geometry.type:e.type){case"GeometryCollection":return a(e,(function(e){c(e,t)})),e;case"LineString":return f(s(e),t),e;case"Polygon":return p(s(e),t),e;case"MultiLineString":return s(e).forEach((function(e){f(e,t)})),e;case"MultiPolygon":return s(e).forEach((function(e){p(e,t)})),e;case"Point":case"MultiPoint":return e}}function f(e,t){l(e)===t&&e.reverse()}function p(e,t){l(e[0])!==t&&e[0].reverse();for(var n=1;n<e.length;n++)l(e[n])===t&&e[n].reverse()}function g(e,t){for(var n=0,r=0,i=0,o=0,s=0,l=0,u=0,a=0,h=null,c=null,f=e[0],p=e[1],g=t.length;n<g;n++){r=0;var y=t[n].length-1,d=t[n];if((h=d[0])[0]!==d[y][0]&&h[1]!==d[y][1])throw new Error("First and last coordinates in a ring must be the same");for(s=h[0]-f,l=h[1]-p;r<y;r++)if(a=(c=d[r+1])[1]-p,l<0&&a<0||l>0&&a>0)l=a,s=(h=c)[0]-f;else{if(u=c[0]-e[0],a>0&&l<=0){if((o=s*a-u*l)>0)i+=1;else if(0===o)return 0}else if(l>0&&a<=0){if((o=s*a-u*l)<0)i+=1;else if(0===o)return 0}else if(0===a&&l<0){if(0===(o=s*a-u*l))return 0}else if(0===l&&a<0){if(0===(o=s*a-u*l))return 0}else if(0===l&&0===a){if(u<=0&&s>=0)return 0;if(s<=0&&u>=0)return 0}h=c,l=a,s=u}}return i%2!=0}const y=134217729;function d(e,t,n,r,i){let o,s,l,u,a=t[0],h=r[0],c=0,f=0;h>a==h>-a?(o=a,a=t[++c]):(o=h,h=r[++f]);let p=0;if(c<e&&f<n)for(h>a==h>-a?(s=a+o,l=o-(s-a),a=t[++c]):(s=h+o,l=o-(s-h),h=r[++f]),o=s,0!==l&&(i[p++]=l);c<e&&f<n;)h>a==h>-a?(s=o+a,u=s-o,l=o-(s-u)+(a-u),a=t[++c]):(s=o+h,u=s-o,l=o-(s-u)+(h-u),h=r[++f]),o=s,0!==l&&(i[p++]=l);for(;c<e;)s=o+a,u=s-o,l=o-(s-u)+(a-u),a=t[++c],o=s,0!==l&&(i[p++]=l);for(;f<n;)s=o+h,u=s-o,l=o-(s-u)+(h-u),h=r[++f],o=s,0!==l&&(i[p++]=l);return 0===o&&0!==p||(i[p++]=o),p}function m(e){return new Float64Array(e)}const v=m(4),w=m(8),b=m(12),x=m(16),E=m(4);function S(e,t,n,r,i,o){const s=(t-o)*(n-i),l=(e-i)*(r-o),u=s-l;if(0===s||0===l||s>0!=l>0)return u;const a=Math.abs(s+l);return Math.abs(u)>=33306690738754716e-32*a?u:-function(e,t,n,r,i,o,s){let l,u,a,h,c,f,p,g,m,S,P,C,L,I,M,_,F,T;const O=e-i,k=n-i,R=t-o,A=r-o;I=O*A,f=y*O,p=f-(f-O),g=O-p,f=y*A,m=f-(f-A),S=A-m,M=g*S-(I-p*m-g*m-p*S),_=R*k,f=y*R,p=f-(f-R),g=R-p,f=y*k,m=f-(f-k),S=k-m,F=g*S-(_-p*m-g*m-p*S),P=M-F,c=M-P,v[0]=M-(P+c)+(c-F),C=I+P,c=C-I,L=I-(C-c)+(P-c),P=L-_,c=L-P,v[1]=L-(P+c)+(c-_),T=C+P,c=T-C,v[2]=C-(T-c)+(P-c),v[3]=T;let N=function(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}(4,v),G=22204460492503146e-32*s;if(N>=G||-N>=G)return N;if(c=e-O,l=e-(O+c)+(c-i),c=n-k,a=n-(k+c)+(c-i),c=t-R,u=t-(R+c)+(c-o),c=r-A,h=r-(A+c)+(c-o),0===l&&0===u&&0===a&&0===h)return N;if(G=11093356479670487e-47*s+33306690738754706e-32*Math.abs(N),N+=O*h+A*l-(R*a+k*u),N>=G||-N>=G)return N;I=l*A,f=y*l,p=f-(f-l),g=l-p,f=y*A,m=f-(f-A),S=A-m,M=g*S-(I-p*m-g*m-p*S),_=u*k,f=y*u,p=f-(f-u),g=u-p,f=y*k,m=f-(f-k),S=k-m,F=g*S-(_-p*m-g*m-p*S),P=M-F,c=M-P,E[0]=M-(P+c)+(c-F),C=I+P,c=C-I,L=I-(C-c)+(P-c),P=L-_,c=L-P,E[1]=L-(P+c)+(c-_),T=C+P,c=T-C,E[2]=C-(T-c)+(P-c),E[3]=T;const B=d(4,v,4,E,w);I=O*h,f=y*O,p=f-(f-O),g=O-p,f=y*h,m=f-(f-h),S=h-m,M=g*S-(I-p*m-g*m-p*S),_=R*a,f=y*R,p=f-(f-R),g=R-p,f=y*a,m=f-(f-a),S=a-m,F=g*S-(_-p*m-g*m-p*S),P=M-F,c=M-P,E[0]=M-(P+c)+(c-F),C=I+P,c=C-I,L=I-(C-c)+(P-c),P=L-_,c=L-P,E[1]=L-(P+c)+(c-_),T=C+P,c=T-C,E[2]=C-(T-c)+(P-c),E[3]=T;const D=d(B,w,4,E,b);I=l*h,f=y*l,p=f-(f-l),g=l-p,f=y*h,m=f-(f-h),S=h-m,M=g*S-(I-p*m-g*m-p*S),_=u*a,f=y*u,p=f-(f-u),g=u-p,f=y*a,m=f-(f-a),S=a-m,F=g*S-(_-p*m-g*m-p*S),P=M-F,c=M-P,E[0]=M-(P+c)+(c-F),C=I+P,c=C-I,L=I-(C-c)+(P-c),P=L-_,c=L-P,E[1]=L-(P+c)+(c-_),T=C+P,c=T-C,E[2]=C-(T-c)+(P-c),E[3]=T;const U=d(D,b,4,E,x);return x[U-1]}(e,t,n,r,i,o,a)}var P=function(e,t,n,r,i){this.p1=e,this.p2=t,this.edgeType=n,this.originalIndex=r,this.polygonContourId=i,this.interiorRing=!1,this.minX=Math.min(e.p[0],t.p[0]),this.minY=Math.min(e.p[1],t.p[1]),this.maxX=Math.max(e.p[0],t.p[0]),this.maxY=Math.max(e.p[1],t.p[1]),this.intersectionPoints=[],this.nextEdge=null},C=function(e){this.p=e},L=function(e,t){this.id=e,this.rawCoords=t};function I(e,t){return!(e.maxX<t[0])&&(!(e.minX>t[2])&&(!(e.maxY<t[1])&&!(e.minY>t[3])))}var M=function(e,t,n,r){this.p=e,this.polylineEdge=t,this.polygonEdge=n,this.isHeadingIn=r,this.distanceFromPolylineEdgeStart=_(this.polylineEdge.p1.p,this.p),this.distanceFromPolygonEdgeStart=_(this.polygonEdge.p1.p,this.p),this.polygonEdge.intersectionPoints.push(this),this.polylineEdge.intersectionPoints.push(this),this.visitCount=0};function _(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*=n,r*=r,Math.sqrt(n+r)}M.prototype.incrementVisitCount=function(){this.visitCount=this.visitCount+1};function F(e,t){return e[0]*t[1]-e[1]*t[0]}function T(e,t){return e[0]*t[0]+e[1]*t[1]}function O(e,t,n){return[e[0]+t*n[0],e[1]+t*n[1]]}function k(e,t,n){var r=[e.p2.p[0]-e.p1.p[0],e.p2.p[1]-e.p1.p[1]],i=[t.p2.p[0]-t.p1.p[0],t.p2.p[1]-t.p1.p[1]],o=[t.p1.p[0]-e.p1.p[0],t.p1.p[1]-e.p1.p[1]],s=F(r,i),l=s*s,u=T(r,r);if(l>0){var a=F(o,i)/s;if(a<0||a>1)return null;var h=F(o,r)/s;return h<0||h>1?null:0===a||1===a?n?null:[O(e.p1.p,a,r)]:0===h||1===h?n?null:[O(t.p1.p,h,i)]:[O(e.p1.p,a,r)]}var c=T(o,o);if((l=(s=F(o,r))*s)>1e-9*u*c)return null;var f=T(r,o)/u,p=f+T(r,i)/u,g=Math.min(f,p),y=Math.max(f,p);return g<=1&&y>=0?1===g?n?null:[O(e.p1.p,g>0?g:0,r)]:0===y?n?null:[O(e.p1.p,y<1?y:1,r)]:n&&0===g&&1===y?null:[O(e.p1.p,g>0?g:0,r),O(e.p1.p,y<1?y:1,r)]:null}function R(e,t){var n=[],r=[],i=[],o=function(e,t,n,r,i){for(var o=0,s=[],l="Feature"===t.type?t.geometry:t,u="LineString"===l.type?[l.coordinates]:l.coordinates,a=0,h=0;h<u.length;h++){for(var c=u[h].length-1,f=new C(u[h][0]),p=null,g={nextEdge:null},y=0;y<c;y++){p=new C(u[h][y+1]),f.nextPoint=p,p.prevPoint=f;var d=new P(f,p,"polyline",a,null);r.push(d),g.nextEdge=d,d.prevEdge=g,i[0]=Math.min(i[0],f.p[0]),i[1]=Math.min(i[1],f.p[1]),i[2]=Math.max(i[2],f.p[0]),i[3]=Math.max(i[3],f.p[1]),f=p,a+=1,g=d}i[0]=Math.min(i[0],u[h][c][0]),i[1]=Math.min(i[1],u[h][c][1]),i[2]=Math.max(i[2],u[h][c][0]),i[3]=Math.max(i[3],u[h][c][1])}for(var m="Feature"===e.type?e.geometry:e,v="Polygon"===m.type?[m.coordinates]:m.coordinates,w=v.length,b=0;b<w;b++)for(var x=v[b].length,E=0;E<x;E++){o+=1;var S=v[b][E],M=S.length;s.push(new L(o,S));for(var _=new C(S[0]),F=_,T=void 0,O=null,k={nextEdge:null,prevEdge:null},R=null,A=1;A<M;A++)T=new C(S[A]),F.nextPoint=T,T.prevPoint=F,O=new P(F,T,"polygon",a,o),k.nextEdge=O,O.prevEdge=k,1===A&&(R=O),E>0&&(O.interiorRing=!0),O.intersectPolylineBbox=I(O,i),n.push(O),F=T,a+=1,k=O;O.nextEdge=R,R.prevEdge=O,T.nextPoint=_.nextPoint,_.prevPoint=T.prevPoint}return s}(h(e),t,r,i,[1/0,1/0,1/0,1/0]);if(function(e,t,n){var r,i,o,s=t.length,l=e.length;for(r=0;r<s;r++){var u=t[r];for(i=0;i<l;i++){var a=e[i];if(a.intersectPolylineBbox&&!(a.maxX<u.minX||a.minX>u.maxX||a.maxY<u.minY||a.minY>u.maxY)){var h=k(u,a);if(null!==h)for(o=0;o<h.length;o++){var c=S(a.p1.p[0],a.p1.p[1],a.p2.p[0],a.p2.p[1],u.p1.p[0],u.p1.p[1]),f=new M(h[o],u,a,c>0);n.push(f)}}}}t.forEach((function(e){e.intersectionPoints.sort((function(e,t){return e.distanceFromPolylineEdgeStart-t.distanceFromPolylineEdgeStart}))})),e.forEach((function(e){e.intersectionPoints.sort((function(e,t){return e.distanceFromPolygonEdgeStart-t.distanceFromPolygonEdgeStart}))}))}(r,i,n),0===n.length)return e;var s={};o.forEach((function(e){return s[e.id]=0})),n.forEach((function(e){var t=e.polygonEdge.polygonContourId;s[t]=s[t]+1}));for(var l=0,u=[],a=null,c=0;c<i.length;c++){var f=i[c];if(f.intersectionPoints.length>0){a=f.intersectionPoints[0];break}}for(var p=a,g={visitCount:1};a!==g&&!(l>2*n.length);){if(l=l++,g.visitCount>=2){for(var y=!1,d=0;d<n.length;d++){var m=n[d];if(m.visitCount<2){p=m,y=!0;break}}if(!y)break}p.visitCount=p.visitCount+1;var v=[];u.push(v),v.push(p.p),p.visitCount=p.visitCount+1;var w=B(p,v),b=!1;if(w===(g=w)&&2===n.length)for(var x=0;x<n.length;x++){n[x].visitCount<2&&(b=!0)}for(;w!==p||b;){(w=(w.isHeadingIn?q:U)(w,v))!==p&&(w=B(w,v)),b=!1}if(g.visitCount>=2){for(var E=!1,_=0;_<n.length;_++){var F=n[_];if(F.visitCount<2){p=F,E=!0;break}}E&&(g=p)}p=g}for(var T=u.map((function(e){return[e]})),O=Object.keys(s),R=0;R<O.length;R++){var D=O[R];if(0===s[D])G(N(A(r,parseInt(D)),o),T)}return{type:"Feature",properties:{},geometry:{type:"MultiPolygon",coordinates:T}}}function A(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.polygonContourId===t)return r}}function N(e,t){return t.find((function(t){return t.id===e.polygonContourId})).rawCoords}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(g(e[0],[r[0]]))return void r.push(e)}t.push([e])}function B(e,t){var n=e.polygonEdge;if(n.intersectionPoints.length>1&&n.intersectionPoints[n.intersectionPoints.length-1]!==e){var r=D(e,n.intersectionPoints),i=n.intersectionPoints[r+1];return t.push(i.p),i.incrementVisitCount(),i}for(var o=!0;o;){if(t.push(n.p2.p),null===(n=n.nextEdge))return e;n.intersectionPoints.length>0&&(o=!1)}return n.intersectionPoints[0].incrementVisitCount(),t.push(n.intersectionPoints[0].p),n.intersectionPoints[0]}function D(e,t){for(var n=0;n<t.length;n++){if(t[n]===e)return n}return null}function U(e,t){var n=e.polylineEdge;if(2===n.intersectionPoints.length){var r=n.intersectionPoints[n.intersectionPoints.length-1];if(r===e){var i=n.intersectionPoints[0];return t.push(i.p),i.incrementVisitCount(),i}return t.push(r.p),r.incrementVisitCount(),r}if(n.intersectionPoints.length>2&&n.intersectionPoints[0]!==e){var o=D(e,n.intersectionPoints),s=n.intersectionPoints[o-1];return t.push(s.p),s.incrementVisitCount(),s}for(var l=!0;l;){if(t.push(n.p1.p),void 0===(n=n.prevEdge).originalIndex)return e;n.intersectionPoints.length>0&&(l=!1)}if(void 0===n.originalIndex)return e;var u=n.intersectionPoints[n.intersectionPoints.length-1];return u.incrementVisitCount(),t.push(u.p),u}function q(e,t){var n=e.polylineEdge;if(n.intersectionPoints.length>1&&n.intersectionPoints[n.intersectionPoints.length-1]!==e){var r=D(e,n.intersectionPoints),i=n.intersectionPoints[r+1];return t.push(i.p),i.incrementVisitCount(),i}for(var o=!0;o;){if(t.push(n.p2.p),null===(n=n.nextEdge))return e;n.intersectionPoints.length>0&&(o=!1)}if(void 0===n)return e;var s=n.intersectionPoints[0];return s.incrementVisitCount(),t.push(s.p),s}const V="add",j="move",z="pointer",$="none",Y="polygon",W="line_string",H="point",K="Feature",J="Polygon",Z="LineString",X="Point",Q="MultiPolygon",ee="simple_select",te="draw.create",ne="draw.update",re="feature",ie="vertex",oe="true",se="false";var le=6371008.8,ue={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*le,kilometers:6371.0088,kilometres:6371.0088,meters:le,metres:le,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:le/1852,radians:1,yards:6967335.223679999};function ae(e,t,n={}){const r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function he(e,t,n={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return ae({type:"Polygon",coordinates:e},t,n)}function ce(e,t,n={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return ae({type:"LineString",coordinates:e},t,n)}function fe(e,t={}){const n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function pe(e,t,n={}){return ae({type:"MultiLineString",coordinates:e},t,n)}function ge(e,t,n={}){return ae({type:"MultiPolygon",coordinates:e},t,n)}function ye(e,t){return n=function(e,t="kilometers"){const n=ue[t];if(!n)throw new Error(t+" units is invalid");return e/n}(e,t),n%(2*Math.PI)*180/Math.PI;var n}function de(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}class me{constructor(e=[],t=ve){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,r=t[e];for(;e>0;){const i=e-1>>1,o=t[i];if(n(r,o)>=0)break;t[e]=o,e=i}t[e]=r}_down(e){const{data:t,compare:n}=this,r=this.length>>1,i=t[e];for(;e<r;){let r=1+(e<<1),o=t[r];const s=r+1;if(s<this.length&&n(t[s],o)<0&&(r=s,o=t[s]),n(o,i)>=0)break;t[e]=o,e=r}t[e]=i}}function ve(e,t){return e<t?-1:e>t?1:0}function we(e,t){return e.p.x>t.p.x?1:e.p.x<t.p.x?-1:e.p.y!==t.p.y?e.p.y>t.p.y?1:-1:1}function be(e,t){return e.rightSweepEvent.p.x>t.rightSweepEvent.p.x?1:e.rightSweepEvent.p.x<t.rightSweepEvent.p.x?-1:e.rightSweepEvent.p.y!==t.rightSweepEvent.p.y?e.rightSweepEvent.p.y<t.rightSweepEvent.p.y?1:-1:1}class xe{constructor(e,t,n,r){this.p={x:e[0],y:e[1]},this.featureId=t,this.ringId=n,this.eventId=r,this.otherEvent=null,this.isLeftEndpoint=null}isSamePoint(e){return this.p.x===e.p.x&&this.p.y===e.p.y}}let Ee=0,Se=0,Pe=0;function Ce(e,t){const n="Feature"===e.type?e.geometry:e;let r=n.coordinates;"Polygon"!==n.type&&"MultiLineString"!==n.type||(r=[r]),"LineString"===n.type&&(r=[[r]]);for(let e=0;e<r.length;e++)for(let n=0;n<r[e].length;n++){let i=r[e][n][0],o=null;Se+=1;for(let s=0;s<r[e][n].length-1;s++){o=r[e][n][s+1];const l=new xe(i,Ee,Se,Pe),u=new xe(o,Ee,Se,Pe+1);l.otherEvent=u,u.otherEvent=l,we(l,u)>0?(u.isLeftEndpoint=!0,l.isLeftEndpoint=!1):(l.isLeftEndpoint=!0,u.isLeftEndpoint=!1),t.push(l),t.push(u),i=o,Pe+=1}}Ee+=1}let Le=class{constructor(e){this.leftSweepEvent=e,this.rightSweepEvent=e.otherEvent}};function Ie(e,t){if(null===e||null===t)return!1;if(e.leftSweepEvent.ringId===t.leftSweepEvent.ringId&&(e.rightSweepEvent.isSamePoint(t.leftSweepEvent)||e.rightSweepEvent.isSamePoint(t.leftSweepEvent)||e.rightSweepEvent.isSamePoint(t.rightSweepEvent)||e.leftSweepEvent.isSamePoint(t.leftSweepEvent)||e.leftSweepEvent.isSamePoint(t.rightSweepEvent)))return!1;const n=e.leftSweepEvent.p.x,r=e.leftSweepEvent.p.y,i=e.rightSweepEvent.p.x,o=e.rightSweepEvent.p.y,s=t.leftSweepEvent.p.x,l=t.leftSweepEvent.p.y,u=t.rightSweepEvent.p.x,a=t.rightSweepEvent.p.y,h=(a-l)*(i-n)-(u-s)*(o-r),c=(u-s)*(r-l)-(a-l)*(n-s),f=(i-n)*(r-l)-(o-r)*(n-s);if(0===h)return!1;const p=c/h,g=f/h;if(p>=0&&p<=1&&g>=0&&g<=1){return[n+p*(i-n),r+p*(o-r)]}return!1}var Me=function(e,t){const n=new me([],we);return function(e,t){if("FeatureCollection"===e.type){const n=e.features;for(let e=0;e<n.length;e++)Ce(n[e],t)}else Ce(e,t)}(e,n),function(e,t){t=t||!1;const n=[],r=new me([],be);for(;e.length;){const i=e.pop();if(i.isLeftEndpoint){const e=new Le(i);for(let o=0;o<r.data.length;o++){const s=r.data[o];if(t&&s.leftSweepEvent.featureId===i.featureId)continue;const l=Ie(e,s);!1!==l&&n.push(l)}r.push(e)}else!1===i.isLeftEndpoint&&r.pop()}return n}(n,t)};function _e(e,t,n={}){const{removeDuplicates:r=!0,ignoreSelfIntersections:i=!0}=n;let o=[];"FeatureCollection"===e.type?o=o.concat(e.features):"Feature"===e.type?o.push(e):"LineString"!==e.type&&"Polygon"!==e.type&&"MultiLineString"!==e.type&&"MultiPolygon"!==e.type||o.push(ae(e)),"FeatureCollection"===t.type?o=o.concat(t.features):"Feature"===t.type?o.push(t):"LineString"!==t.type&&"Polygon"!==t.type&&"MultiLineString"!==t.type&&"MultiPolygon"!==t.type||o.push(ae(t));const s=Me(fe(o),i);let l=[];if(r){const e={};s.forEach((t=>{const n=t.join(",");e[n]||(e[n]=!0,l.push(t))}))}else l=s;return fe(l.map((e=>function(e,t,n={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!de(e[0])||!de(e[1]))throw new Error("coordinates must contain numbers");return ae({type:"Point",coordinates:e},t,n)}(e))))}var Fe=_e;function Te(e){return"Feature"===e.type?e.geometry:e}function Oe(e,t,n={}){if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");const r=function(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}(e),i=Te(t),o=i.type,s=t.bbox;let l=i.coordinates;if(s&&!1===function(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}(r,s))return!1;"Polygon"===o&&(l=[l]);let u=!1;for(var a=0;a<l.length;++a){const e=g(r,l[a]);if(0===e)return!n.ignoreBoundary;e&&(u=!0)}return u}function ke(e,t){!function(e,t){var n,r,i,o,s,l,u,a,h,c,f=0,p="FeatureCollection"===e.type,g="Feature"===e.type,y=p?e.features.length:1;for(n=0;n<y;n++){for(l=p?e.features[n].geometry:g?e.geometry:e,a=p?e.features[n].properties:g?e.properties:{},h=p?e.features[n].bbox:g?e.bbox:void 0,c=p?e.features[n].id:g?e.id:void 0,s=(u=!!l&&"GeometryCollection"===l.type)?l.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?l.geometries[i]:l))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,f,a,h,c))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===t(o.geometries[r],f,a,h,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,a,h,c))return!1;f++}}(e,(function(e,n,r,i,o){var s,l=null===e?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==t(ae(e,r,{bbox:i,id:o}),n,0)&&void 0}switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var u=0;u<e.coordinates.length;u++){var a=e.coordinates[u];if(!1===t(ae({type:s,coordinates:a},r),n,u))return!1}}))}function Re(e,t={}){const n=Te(e);switch(t.properties||"Feature"!==e.type||(t.properties=e.properties),n.type){case"Polygon":return function(e,t={}){const n=Te(e).coordinates,r=t.properties?t.properties:"Feature"===e.type?e.properties:{};return Ae(n,r)}(n,t);case"MultiPolygon":return function(e,t={}){const n=Te(e).coordinates,r=t.properties?t.properties:"Feature"===e.type?e.properties:{},i=[];return n.forEach((e=>{i.push(Ae(e,r))})),fe(i)}(n,t);default:throw new Error("invalid poly")}}function Ae(e,t){return e.length>1?pe(e,t):ce(e[0],t)}function Ne(e,t){for(let n=0;n<e.coordinates.length-1;n++)if(Be(e.coordinates[n],e.coordinates[n+1],t.coordinates))return!0;return!1}function Ge(e,t,n){for(const n of t.coordinates)if(Oe(n,e))return!0;return _e(t,Re(e),{ignoreSelfIntersections:n}).features.length>0}function Be(e,t,n){const r=n[0]-e[0],i=n[1]-e[1],o=t[0]-e[0],s=t[1]-e[1];return 0==r*s-i*o&&(Math.abs(o)>=Math.abs(s)?o>0?e[0]<=n[0]&&n[0]<=t[0]:t[0]<=n[0]&&n[0]<=e[0]:s>0?e[1]<=n[1]&&n[1]<=t[1]:t[1]<=n[1]&&n[1]<=e[1])}var De=function(e,t,{ignoreSelfIntersections:n=!0}={ignoreSelfIntersections:!0}){let r=!0;return ke(e,(e=>{ke(t,(t=>{if(!1===r)return!1;r=function(e,t,n){switch(e.type){case"Point":switch(t.type){case"Point":return r=e.coordinates,i=t.coordinates,!(r[0]===i[0]&&r[1]===i[1]);case"LineString":return!Ne(t,e);case"Polygon":return!Oe(e,t)}break;case"LineString":switch(t.type){case"Point":return!Ne(e,t);case"LineString":return!function(e,t,n){if(_e(e,t,{ignoreSelfIntersections:n}).features.length>0)return!0;return!1}(e,t,n);case"Polygon":return!Ge(t,e,n)}break;case"Polygon":switch(t.type){case"Point":return!Oe(t,e);case"LineString":return!Ge(e,t,n);case"Polygon":return!function(e,t,n){for(const n of e.coordinates[0])if(Oe(n,t))return!0;for(const n of t.coordinates[0])if(Oe(n,e))return!0;if(_e(Re(e),Re(t),{ignoreSelfIntersections:n}).features.length>0)return!0;return!1}(t,e,n)}}var r,i;return!1}(e.geometry,t.geometry,n)}))})),r};function Ue(e,t){!function(e,t){var n,r,i,o,s,l,u,a,h,c,f=0,p="FeatureCollection"===e.type,g="Feature"===e.type,y=p?e.features.length:1;for(n=0;n<y;n++){for(l=p?e.features[n].geometry:g?e.geometry:e,a=p?e.features[n].properties:g?e.properties:{},h=p?e.features[n].bbox:g?e.bbox:void 0,c=p?e.features[n].id:g?e.id:void 0,s=(u=!!l&&"GeometryCollection"===l.type)?l.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?l.geometries[i]:l))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,f,a,h,c))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===t(o.geometries[r],f,a,h,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,a,h,c))return!1;f++}}(e,(function(e,n,r,i,o){var s,l=null===e?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==t(ae(e,r,{bbox:i,id:o}),n,0)&&void 0}switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var u=0;u<e.coordinates.length;u++){var a=e.coordinates[u];if(!1===t(ae({type:s,coordinates:a},r),n,u))return!1}}))}function qe(e){var t=e[0],n=e[1];return[n[0]-t[0],n[1]-t[1]]}function Ve(e,t){return e[0]*t[1]-t[0]*e[1]}function je(e,t){return!function(e,t){return 0===Ve(qe(e),qe(t))}(e,t)&&function(e,t){var n,r,i=e[0],o=qe(e),s=t[0],l=qe(t),u=Ve(o,l),a=function(e,t){return[e[0]+t[0],e[1]+t[1]]}(i,function(e,t){return[e*t[0],e*t[1]]}(Ve((r=i,[(n=s)[0]-r[0],n[1]-r[1]]),l)/u,o));return a}(e,t)}function ze(e,t,n){var r=[],i=ye(t,n),o=function(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}(e),s=[];return o.forEach((function(e,t){if(t!==o.length-1){var n=(a=e,h=o[t+1],c=i,f=Math.sqrt((a[0]-h[0])*(a[0]-h[0])+(a[1]-h[1])*(a[1]-h[1])),p=a[0]+c*(h[1]-a[1])/f,g=h[0]+c*(h[1]-a[1])/f,y=a[1]+c*(a[0]-h[0])/f,d=h[1]+c*(a[0]-h[0])/f,[[p,y],[g,d]]);if(r.push(n),t>0){var l=r[t-1],u=je(n,l);!1!==u&&(l[1]=u,n[0]=u),s.push(l[0]),t===o.length-2&&(s.push(n[0]),s.push(n[1]))}2===o.length&&(s.push(n[0]),s.push(n[1]))}var a,h,c,f,p,g,y,d})),ce(s,e.properties)}var $e=function(e,t,n){if(null===(r=n=n||{})||"object"!=typeof r||Array.isArray(r))throw new Error("options is invalid");var r,i=n.units;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");var o=function(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}(e),s=e.properties;switch(o){case"LineString":return ze(e,t,i);case"MultiLineString":var l=[];return Ue(e,(function(e){l.push(ze(e,t,i).geometry.coordinates)})),pe(l,s);default:throw new Error("geometry "+o+" is not supported")}};function Ye(e,t,n){if(null!==e)for(var r,i,o,s,l,u,a,h,c=0,f=0,p=e.type,g="FeatureCollection"===p,y="Feature"===p,d=g?e.features.length:1,m=0;m<d;m++){l=(h=!!(a=g?e.features[m].geometry:y?e.geometry:e)&&"GeometryCollection"===a.type)?a.geometries.length:1;for(var v=0;v<l;v++){var w=0,b=0;if(null!==(s=h?a.geometries[v]:a)){u=s.coordinates;var x=s.type;switch(c=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===t(u,f,m,w,b))return!1;f++,w++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++){if(!1===t(u[r],f,m,w,b))return!1;f++,"MultiPoint"===x&&w++}"LineString"===x&&w++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-c;i++){if(!1===t(u[r][i],f,m,w,b))return!1;f++}"MultiLineString"===x&&w++,"Polygon"===x&&b++}"Polygon"===x&&w++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for(b=0,i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-c;o++){if(!1===t(u[r][i][o],f,m,w,b))return!1;f++}b++}w++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===Ye(s.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function We(e,t={}){if(null!=e.bbox&&!0!==t.recompute)return e.bbox;const n=[1/0,1/0,-1/0,-1/0];return Ye(e,(e=>{n[0]>e[0]&&(n[0]=e[0]),n[1]>e[1]&&(n[1]=e[1]),n[2]<e[0]&&(n[2]=e[0]),n[3]<e[1]&&(n[3]=e[1])})),n}function He(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return Ke(e);case"FeatureCollection":return function(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach((n=>{switch(n){case"type":case"features":return;default:t[n]=e[n]}})),t.features=e.features.map((e=>Ke(e))),t}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Ze(e);default:throw new Error("unknown GeoJSON type")}}function Ke(e){const t={type:"Feature"};return Object.keys(e).forEach((n=>{switch(n){case"type":case"properties":case"geometry":return;default:t[n]=e[n]}})),t.properties=Je(e.properties),null==e.geometry?t.geometry=null:t.geometry=Ze(e.geometry),t}function Je(e){const t={};return e?(Object.keys(e).forEach((n=>{const r=e[n];"object"==typeof r?null===r?t[n]=null:Array.isArray(r)?t[n]=r.map((e=>e)):t[n]=Je(r):t[n]=r})),t):t}function Ze(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((e=>Ze(e))),t):(t.coordinates=Xe(e.coordinates),t)}function Xe(e){const t=e;return"object"!=typeof t[0]?t.slice():t.map((e=>Xe(e)))}function Qe(e,t,n,r){t=t||("Feature"===e.type?e.properties:{});var i,o="Feature"===(i=e).type?i.geometry:i,s=o.coordinates,l=o.type;if(!s.length)throw new Error("line must contain coordinates");switch(l){case"LineString":return n&&(s=et(s)),he([s],t);case"MultiLineString":var u=[],a=0;return s.forEach((function(e){if(n&&(e=et(e)),r){var t=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.abs(t-r)*Math.abs(n-i)}(We(ce(e)));t>a?(u.unshift(e),a=t):u.push(e)}else u.push(e)})),he(u,t);default:throw new Error("geometry type "+l+" is not supported")}}function et(e){var t=e[0],n=t[0],r=t[1],i=e[e.length-1],o=i[0],s=i[1];return n===o&&r===s||e.push(t),e}var tt=function(e,t={}){var n,r,i,o=t.properties,s=null==(n=t.autoComplete)||n,l=null==(r=t.orderCoords)||r;if(null!=(i=t.mutate)&&i||(e=He(e)),"FeatureCollection"===e.type){var u=[];return e.features.forEach((function(e){u.push(function(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}(Qe(e,{},s,l)))})),ge(u,o)}return Qe(e,o,s,l)},nt=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,rt=Math.ceil,it=Math.floor,ot="[BigNumber Error] ",st=ot+"Number primitive has more than 15 significant digits: ",lt=1e14,ut=14,at=9007199254740991,ht=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],ct=1e7,ft=1e9;function pt(e){var t=0|e;return e>0||e===t?t:t-1}function gt(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=ut-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function yt(e,t){var n,r,i=e.c,o=t.c,s=e.s,l=t.s,u=e.e,a=t.e;if(!s||!l)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-l:s;if(s!=l)return s;if(n=s<0,r=u==a,!i||!o)return r?0:!i^n?1:-1;if(!r)return u>a^n?1:-1;for(l=(u=i.length)<(a=o.length)?u:a,s=0;s<l;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return u==a?0:u>a^n?1:-1}function dt(e,t,n,r){if(e<t||e>n||e!==it(e))throw Error(ot+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function mt(e){var t=e.c.length-1;return pt(e.e/ut)==t&&e.c[t]%2!=0}function vt(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function wt(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var bt=function e(t){var n,r,i,o,s,l,u,a,h,c,f=L.prototype={constructor:L,toString:null,valueOf:null},p=new L(1),g=20,y=4,d=-7,m=21,v=-1e7,w=1e7,b=!1,x=1,E=0,S={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},P="0123456789abcdefghijklmnopqrstuvwxyz",C=!0;function L(e,t){var n,o,s,l,u,a,h,c,f=this;if(!(f instanceof L))return new L(e,t);if(null==t){if(e&&!0===e._isBigNumber)return f.s=e.s,void(!e.c||e.e>w?f.c=f.e=null:e.e<v?f.c=[f.e=0]:(f.e=e.e,f.c=e.c.slice()));if((a="number"==typeof e)&&0*e==0){if(f.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,u=e;u>=10;u/=10,l++);return void(l>w?f.c=f.e=null:(f.e=l,f.c=[e]))}c=String(e)}else{if(!nt.test(c=String(e)))return i(f,c,a);f.s=45==c.charCodeAt(0)?(c=c.slice(1),-1):1}(l=c.indexOf("."))>-1&&(c=c.replace(".","")),(u=c.search(/e/i))>0?(l<0&&(l=u),l+=+c.slice(u+1),c=c.substring(0,u)):l<0&&(l=c.length)}else{if(dt(t,2,P.length,"Base"),10==t&&C)return F(f=new L(e),g+f.e+1,y);if(c=String(e),a="number"==typeof e){if(0*e!=0)return i(f,c,a,t);if(f.s=1/e<0?(c=c.slice(1),-1):1,L.DEBUG&&c.replace(/^0\.0*|\./,"").length>15)throw Error(st+e)}else f.s=45===c.charCodeAt(0)?(c=c.slice(1),-1):1;for(n=P.slice(0,t),l=u=0,h=c.length;u<h;u++)if(n.indexOf(o=c.charAt(u))<0){if("."==o){if(u>l){l=h;continue}}else if(!s&&(c==c.toUpperCase()&&(c=c.toLowerCase())||c==c.toLowerCase()&&(c=c.toUpperCase()))){s=!0,u=-1,l=0;continue}return i(f,String(e),a,t)}a=!1,(l=(c=r(c,t,10,f.s)).indexOf("."))>-1?c=c.replace(".",""):l=c.length}for(u=0;48===c.charCodeAt(u);u++);for(h=c.length;48===c.charCodeAt(--h););if(c=c.slice(u,++h)){if(h-=u,a&&L.DEBUG&&h>15&&(e>at||e!==it(e)))throw Error(st+f.s*e);if((l=l-u-1)>w)f.c=f.e=null;else if(l<v)f.c=[f.e=0];else{if(f.e=l,f.c=[],u=(l+1)%ut,l<0&&(u+=ut),u<h){for(u&&f.c.push(+c.slice(0,u)),h-=ut;u<h;)f.c.push(+c.slice(u,u+=ut));u=ut-(c=c.slice(u)).length}else u-=h;for(;u--;c+="0");f.c.push(+c)}}else f.c=[f.e=0]}function I(e,t,n,r){var i,o,s,l,u;if(null==n?n=y:dt(n,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)u=gt(e.c),u=1==r||2==r&&(s<=d||s>=m)?vt(u,s):wt(u,s,"0");else if(o=(e=F(new L(e),t,n)).e,l=(u=gt(e.c)).length,1==r||2==r&&(t<=o||o<=d)){for(;l<t;u+="0",l++);u=vt(u,o)}else if(t-=s,u=wt(u,o,"0"),o+1>l){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=o-l)>0)for(o+1==l&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function M(e,t){for(var n,r,i=1,o=new L(e[0]);i<e.length;i++)(!(r=new L(e[i])).s||(n=yt(o,r))===t||0===n&&o.s===t)&&(o=r);return o}function _(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*ut-1)>w?e.c=e.e=null:n<v?e.c=[e.e=0]:(e.e=n,e.c=t),e}function F(e,t,n,r){var i,o,s,l,u,a,h,c=e.c,f=ht;if(c){e:{for(i=1,l=c[0];l>=10;l/=10,i++);if((o=t-i)<0)o+=ut,s=t,u=c[a=0],h=it(u/f[i-s-1]%10);else if((a=rt((o+1)/ut))>=c.length){if(!r)break e;for(;c.length<=a;c.push(0));u=h=0,i=1,s=(o%=ut)-ut+1}else{for(u=l=c[a],i=1;l>=10;l/=10,i++);h=(s=(o%=ut)-ut+i)<0?0:it(u/f[i-s-1]%10)}if(r=r||t<0||null!=c[a+1]||(s<0?u:u%f[i-s-1]),r=n<4?(h||r)&&(0==n||n==(e.s<0?3:2)):h>5||5==h&&(4==n||r||6==n&&(o>0?s>0?u/f[i-s]:0:c[a-1])%10&1||n==(e.s<0?8:7)),t<1||!c[0])return c.length=0,r?(t-=e.e+1,c[0]=f[(ut-t%ut)%ut],e.e=-t||0):c[0]=e.e=0,e;if(0==o?(c.length=a,l=1,a--):(c.length=a+1,l=f[ut-o],c[a]=s>0?it(u/f[i-s]%f[s])*l:0),r)for(;;){if(0==a){for(o=1,s=c[0];s>=10;s/=10,o++);for(s=c[0]+=l,l=1;s>=10;s/=10,l++);o!=l&&(e.e++,c[0]==lt&&(c[0]=1));break}if(c[a]+=l,c[a]!=lt)break;c[a--]=0,l=1}for(o=c.length;0===c[--o];c.pop());}e.e>w?e.c=e.e=null:e.e<v&&(e.c=[e.e=0])}return e}function T(e){var t,n=e.e;return null===n?e.toString():(t=gt(e.c),t=n<=d||n>=m?vt(t,n):wt(t,n,"0"),e.s<0?"-"+t:t)}return L.clone=e,L.ROUND_UP=0,L.ROUND_DOWN=1,L.ROUND_CEIL=2,L.ROUND_FLOOR=3,L.ROUND_HALF_UP=4,L.ROUND_HALF_DOWN=5,L.ROUND_HALF_EVEN=6,L.ROUND_HALF_CEIL=7,L.ROUND_HALF_FLOOR=8,L.EUCLID=9,L.config=L.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(ot+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(dt(n=e[t],0,ft,t),g=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(dt(n=e[t],0,8,t),y=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(dt(n[0],-ft,0,t),dt(n[1],0,ft,t),d=n[0],m=n[1]):(dt(n,-ft,ft,t),d=-(m=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)dt(n[0],-ft,-1,t),dt(n[1],1,ft,t),v=n[0],w=n[1];else{if(dt(n,-ft,ft,t),!n)throw Error(ot+t+" cannot be zero: "+n);v=-(w=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(ot+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw b=!n,Error(ot+"crypto unavailable");b=n}else b=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(dt(n=e[t],0,9,t),x=n),e.hasOwnProperty(t="POW_PRECISION")&&(dt(n=e[t],0,ft,t),E=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(ot+t+" not an object: "+n);S=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(ot+t+" invalid: "+n);C="0123456789"==n.slice(0,10),P=n}}return{DECIMAL_PLACES:g,ROUNDING_MODE:y,EXPONENTIAL_AT:[d,m],RANGE:[v,w],CRYPTO:b,MODULO_MODE:x,POW_PRECISION:E,FORMAT:S,ALPHABET:P}},L.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!L.DEBUG)return!0;var t,n,r=e.c,i=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===o||-1===o)&&i>=-ft&&i<=ft&&i===it(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%ut)<1&&(t+=ut),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=lt||n!==it(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(ot+"Invalid BigNumber: "+e)},L.maximum=L.max=function(){return M(arguments,-1)},L.minimum=L.min=function(){return M(arguments,1)},L.random=(o=9007199254740992,s=Math.random()*o&2097151?function(){return it(Math.random()*o)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,i,o,l=0,u=[],a=new L(p);if(null==e?e=g:dt(e,0,ft),i=rt(e/ut),b)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));l<i;)(o=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(u.push(o%1e14),l+=2);l=i/2}else{if(!crypto.randomBytes)throw b=!1,Error(ot+"crypto unavailable");for(t=crypto.randomBytes(i*=7);l<i;)(o=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(u.push(o%1e14),l+=7);l=i/7}if(!b)for(;l<i;)(o=s())<9e15&&(u[l++]=o%1e14);for(i=u[--l],e%=ut,i&&e&&(o=ht[ut-e],u[l]=it(i/o)*o);0===u[l];u.pop(),l--);if(l<0)u=[r=0];else{for(r=-1;0===u[0];u.splice(0,1),r-=ut);for(l=1,o=u[0];o>=10;o/=10,l++);l<ut&&(r-=ut-l)}return a.e=r,a.c=u,a}),L.sum=function(){for(var e=1,t=arguments,n=new L(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e="0123456789";function t(e,t,n,r){for(var i,o,s=[0],l=0,u=e.length;l<u;){for(o=s.length;o--;s[o]*=t);for(s[0]+=r.indexOf(e.charAt(l++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,i,o,s,l){var u,a,h,c,f,p,d,m,v=r.indexOf("."),w=g,b=y;for(v>=0&&(c=E,E=0,r=r.replace(".",""),p=(m=new L(i)).pow(r.length-v),E=c,m.c=t(wt(gt(p.c),p.e,"0"),10,o,e),m.e=m.c.length),h=c=(d=t(r,i,o,l?(u=P,e):(u=e,P))).length;0==d[--c];d.pop());if(!d[0])return u.charAt(0);if(v<0?--h:(p.c=d,p.e=h,p.s=s,d=(p=n(p,m,w,b,o)).c,f=p.r,h=p.e),v=d[a=h+w+1],c=o/2,f=f||a<0||null!=d[a+1],f=b<4?(null!=v||f)&&(0==b||b==(p.s<0?3:2)):v>c||v==c&&(4==b||f||6==b&&1&d[a-1]||b==(p.s<0?8:7)),a<1||!d[0])r=f?wt(u.charAt(1),-w,u.charAt(0)):u.charAt(0);else{if(d.length=a,f)for(--o;++d[--a]>o;)d[a]=0,a||(++h,d=[1].concat(d));for(c=d.length;!d[--c];);for(v=0,r="";v<=c;r+=u.charAt(d[v++]));r=wt(r,h,u.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,o,s,l=0,u=e.length,a=t%ct,h=t/ct|0;for(e=e.slice();u--;)l=((i=a*(o=e[u]%ct)+(r=h*o+(s=e[u]/ct|0)*a)%ct*ct+l)/n|0)+(r/ct|0)+h*s,e[u]=i%n;return l&&(e=[l].concat(e)),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,o,s,l){var u,a,h,c,f,p,g,y,d,m,v,w,b,x,E,S,P,C=r.s==i.s?1:-1,I=r.c,M=i.c;if(!(I&&I[0]&&M&&M[0]))return new L(r.s&&i.s&&(I?!M||I[0]!=M[0]:M)?I&&0==I[0]||!M?0*C:C/0:NaN);for(d=(y=new L(C)).c=[],C=o+(a=r.e-i.e)+1,l||(l=lt,a=pt(r.e/ut)-pt(i.e/ut),C=C/ut|0),h=0;M[h]==(I[h]||0);h++);if(M[h]>(I[h]||0)&&a--,C<0)d.push(1),c=!0;else{for(x=I.length,S=M.length,h=0,C+=2,(f=it(l/(M[0]+1)))>1&&(M=e(M,f,l),I=e(I,f,l),S=M.length,x=I.length),b=S,v=(m=I.slice(0,S)).length;v<S;m[v++]=0);P=M.slice(),P=[0].concat(P),E=M[0],M[1]>=l/2&&E++;do{if(f=0,(u=t(M,m,S,v))<0){if(w=m[0],S!=v&&(w=w*l+(m[1]||0)),(f=it(w/E))>1)for(f>=l&&(f=l-1),g=(p=e(M,f,l)).length,v=m.length;1==t(p,m,g,v);)f--,n(p,S<g?P:M,g,l),g=p.length,u=1;else 0==f&&(u=f=1),g=(p=M.slice()).length;if(g<v&&(p=[0].concat(p)),n(m,p,v,l),v=m.length,-1==u)for(;t(M,m,S,v)<1;)f++,n(m,S<v?P:M,v,l),v=m.length}else 0===u&&(f++,m=[0]);d[h++]=f,m[0]?m[v++]=I[b]||0:(m=[I[b]],v=1)}while((b++<x||null!=m[0])&&C--);c=null!=m[0],d[0]||d.splice(0,1)}if(l==lt){for(h=1,C=d[0];C>=10;C/=10,h++);F(y,o+(y.e=h+a*ut-1)+1,s,c)}else y.e=a,y.r=+c;return y}}(),l=/^(-?)0([xbo])(?=\w[\w.]*$)/i,u=/^([^.]+)\.$/,a=/^\.([^.]+)$/,h=/^-?(Infinity|NaN)$/,c=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,n,r){var i,o=n?t:t.replace(c,"");if(h.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(l,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,o=o.replace(u,"$1").replace(a,"0.$1")),t!=o))return new L(o,i);if(L.DEBUG)throw Error(ot+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},f.absoluteValue=f.abs=function(){var e=new L(this);return e.s<0&&(e.s=1),e},f.comparedTo=function(e,t){return yt(this,new L(e,t))},f.decimalPlaces=f.dp=function(e,t){var n,r,i,o=this;if(null!=e)return dt(e,0,ft),null==t?t=y:dt(t,0,8),F(new L(o),e+o.e+1,t);if(!(n=o.c))return null;if(r=((i=n.length-1)-pt(this.e/ut))*ut,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},f.dividedBy=f.div=function(e,t){return n(this,new L(e,t),g,y)},f.dividedToIntegerBy=f.idiv=function(e,t){return n(this,new L(e,t),0,1)},f.exponentiatedBy=f.pow=function(e,t){var n,r,i,o,s,l,u,a,h=this;if((e=new L(e)).c&&!e.isInteger())throw Error(ot+"Exponent not an integer: "+T(e));if(null!=t&&(t=new L(t)),s=e.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return a=new L(Math.pow(+T(h),s?e.s*(2-mt(e)):+T(e))),t?a.mod(t):a;if(l=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new L(NaN);(r=!l&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||s&&h.c[1]>=24e7:h.c[0]<8e13||s&&h.c[0]<=9999975e7)))return o=h.s<0&&mt(e)?-0:0,h.e>-1&&(o=1/o),new L(l?1/o:o);E&&(o=rt(E/ut+2))}for(s?(n=new L(.5),l&&(e.s=1),u=mt(e)):u=(i=Math.abs(+T(e)))%2,a=new L(p);;){if(u){if(!(a=a.times(h)).c)break;o?a.c.length>o&&(a.c.length=o):r&&(a=a.mod(t))}if(i){if(0===(i=it(i/2)))break;u=i%2}else if(F(e=e.times(n),e.e+1,1),e.e>14)u=mt(e);else{if(0===(i=+T(e)))break;u=i%2}h=h.times(h),o?h.c&&h.c.length>o&&(h.c.length=o):r&&(h=h.mod(t))}return r?a:(l&&(a=p.div(a)),t?a.mod(t):o?F(a,E,y,undefined):a)},f.integerValue=function(e){var t=new L(this);return null==e?e=y:dt(e,0,8),F(t,t.e+1,e)},f.isEqualTo=f.eq=function(e,t){return 0===yt(this,new L(e,t))},f.isFinite=function(){return!!this.c},f.isGreaterThan=f.gt=function(e,t){return yt(this,new L(e,t))>0},f.isGreaterThanOrEqualTo=f.gte=function(e,t){return 1===(t=yt(this,new L(e,t)))||0===t},f.isInteger=function(){return!!this.c&&pt(this.e/ut)>this.c.length-2},f.isLessThan=f.lt=function(e,t){return yt(this,new L(e,t))<0},f.isLessThanOrEqualTo=f.lte=function(e,t){return-1===(t=yt(this,new L(e,t)))||0===t},f.isNaN=function(){return!this.s},f.isNegative=function(){return this.s<0},f.isPositive=function(){return this.s>0},f.isZero=function(){return!!this.c&&0==this.c[0]},f.minus=function(e,t){var n,r,i,o,s=this,l=s.s;if(t=(e=new L(e,t)).s,!l||!t)return new L(NaN);if(l!=t)return e.s=-t,s.plus(e);var u=s.e/ut,a=e.e/ut,h=s.c,c=e.c;if(!u||!a){if(!h||!c)return h?(e.s=-t,e):new L(c?s:NaN);if(!h[0]||!c[0])return c[0]?(e.s=-t,e):new L(h[0]?s:3==y?-0:0)}if(u=pt(u),a=pt(a),h=h.slice(),l=u-a){for((o=l<0)?(l=-l,i=h):(a=u,i=c),i.reverse(),t=l;t--;i.push(0));i.reverse()}else for(r=(o=(l=h.length)<(t=c.length))?l:t,l=t=0;t<r;t++)if(h[t]!=c[t]){o=h[t]<c[t];break}if(o&&(i=h,h=c,c=i,e.s=-e.s),(t=(r=c.length)-(n=h.length))>0)for(;t--;h[n++]=0);for(t=lt-1;r>l;){if(h[--r]<c[r]){for(n=r;n&&!h[--n];h[n]=t);--h[n],h[r]+=lt}h[r]-=c[r]}for(;0==h[0];h.splice(0,1),--a);return h[0]?_(e,h,a):(e.s=3==y?-1:1,e.c=[e.e=0],e)},f.modulo=f.mod=function(e,t){var r,i,o=this;return e=new L(e,t),!o.c||!e.s||e.c&&!e.c[0]?new L(NaN):!e.c||o.c&&!o.c[0]?new L(o):(9==x?(i=e.s,e.s=1,r=n(o,e,0,3),e.s=i,r.s*=i):r=n(o,e,0,x),(e=o.minus(r.times(e))).c[0]||1!=x||(e.s=o.s),e)},f.multipliedBy=f.times=function(e,t){var n,r,i,o,s,l,u,a,h,c,f,p,g,y,d,m=this,v=m.c,w=(e=new L(e,t)).c;if(!(v&&w&&v[0]&&w[0]))return!m.s||!e.s||v&&!v[0]&&!w||w&&!w[0]&&!v?e.c=e.e=e.s=null:(e.s*=m.s,v&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=pt(m.e/ut)+pt(e.e/ut),e.s*=m.s,(u=v.length)<(c=w.length)&&(g=v,v=w,w=g,i=u,u=c,c=i),i=u+c,g=[];i--;g.push(0));for(y=lt,d=ct,i=c;--i>=0;){for(n=0,f=w[i]%d,p=w[i]/d|0,o=i+(s=u);o>i;)n=((a=f*(a=v[--s]%d)+(l=p*a+(h=v[s]/d|0)*f)%d*d+g[o]+n)/y|0)+(l/d|0)+p*h,g[o--]=a%y;g[o]=n}return n?++r:g.splice(0,1),_(e,g,r)},f.negated=function(){var e=new L(this);return e.s=-e.s||null,e},f.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new L(e,t)).s,!i||!t)return new L(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/ut,s=e.e/ut,l=r.c,u=e.c;if(!o||!s){if(!l||!u)return new L(i/0);if(!l[0]||!u[0])return u[0]?e:new L(l[0]?r:0*i)}if(o=pt(o),s=pt(s),l=l.slice(),i=o-s){for(i>0?(s=o,n=u):(i=-i,n=l),n.reverse();i--;n.push(0));n.reverse()}for((i=l.length)-(t=u.length)<0&&(n=u,u=l,l=n,t=i),i=0;t;)i=(l[--t]=l[t]+u[t]+i)/lt|0,l[t]=lt===l[t]?0:l[t]%lt;return i&&(l=[i].concat(l),++s),_(e,l,s)},f.precision=f.sd=function(e,t){var n,r,i,o=this;if(null!=e&&e!==!!e)return dt(e,1,ft),null==t?t=y:dt(t,0,8),F(new L(o),e,t);if(!(n=o.c))return null;if(r=(i=n.length-1)*ut+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&o.e+1>r&&(r=o.e+1),r},f.shiftedBy=function(e){return dt(e,-9007199254740991,at),this.times("1e"+e)},f.squareRoot=f.sqrt=function(){var e,t,r,i,o,s=this,l=s.c,u=s.s,a=s.e,h=g+4,c=new L("0.5");if(1!==u||!l||!l[0])return new L(!u||u<0&&(!l||l[0])?NaN:l?s:1/0);if(0==(u=Math.sqrt(+T(s)))||u==1/0?(((t=gt(l)).length+a)%2==0&&(t+="0"),u=Math.sqrt(+t),a=pt((a+1)/2)-(a<0||a%2),r=new L(t=u==1/0?"5e"+a:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+a)):r=new L(u+""),r.c[0])for((u=(a=r.e)+h)<3&&(u=0);;)if(o=r,r=c.times(o.plus(n(s,o,h,1))),gt(o.c).slice(0,u)===(t=gt(r.c)).slice(0,u)){if(r.e<a&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(F(r,r.e+g+2,1),e=!r.times(r).eq(s));break}if(!i&&(F(o,o.e+g+2,0),o.times(o).eq(s))){r=o;break}h+=4,u+=4,i=1}return F(r,r.e+g+1,y,e)},f.toExponential=function(e,t){return null!=e&&(dt(e,0,ft),e++),I(this,e,t,1)},f.toFixed=function(e,t){return null!=e&&(dt(e,0,ft),e=e+this.e+1),I(this,e,t)},f.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=S;else if("object"!=typeof n)throw Error(ot+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var o,s=r.split("."),l=+n.groupSize,u=+n.secondaryGroupSize,a=n.groupSeparator||"",h=s[0],c=s[1],f=i.s<0,p=f?h.slice(1):h,g=p.length;if(u&&(o=l,l=u,u=o,g-=o),l>0&&g>0){for(o=g%l||l,h=p.substr(0,o);o<g;o+=l)h+=a+p.substr(o,l);u>0&&(h+=a+p.slice(o)),f&&(h="-"+h)}r=c?h+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?c.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):c):h}return(n.prefix||"")+r+(n.suffix||"")},f.toFraction=function(e){var t,r,i,o,s,l,u,a,h,c,f,g,d=this,m=d.c;if(null!=e&&(!(u=new L(e)).isInteger()&&(u.c||1!==u.s)||u.lt(p)))throw Error(ot+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+T(u));if(!m)return new L(d);for(t=new L(p),h=r=new L(p),i=a=new L(p),g=gt(m),s=t.e=g.length-d.e-1,t.c[0]=ht[(l=s%ut)<0?ut+l:l],e=!e||u.comparedTo(t)>0?s>0?t:h:u,l=w,w=1/0,u=new L(g),a.c[0]=0;c=n(u,t,0,1),1!=(o=r.plus(c.times(i))).comparedTo(e);)r=i,i=o,h=a.plus(c.times(o=h)),a=o,t=u.minus(c.times(o=t)),u=o;return o=n(e.minus(r),i,0,1),a=a.plus(o.times(h)),r=r.plus(o.times(i)),a.s=h.s=d.s,f=n(h,i,s*=2,y).minus(d).abs().comparedTo(n(a,r,s,y).minus(d).abs())<1?[h,i]:[a,r],w=l,f},f.toNumber=function(){return+T(this)},f.toPrecision=function(e,t){return null!=e&&dt(e,1,ft),I(this,e,t,2)},f.toString=function(e){var t,n=this,i=n.s,o=n.e;return null===o?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=o<=d||o>=m?vt(gt(n.c),o):wt(gt(n.c),o,"0"):10===e&&C?t=wt(gt((n=F(new L(n),g+o+1,y)).c),n.e,"0"):(dt(e,2,P.length,"Base"),t=r(wt(gt(n.c),o,"0"),10,e,i,!0)),i<0&&n.c[0]&&(t="-"+t)),t},f.valueOf=f.toJSON=function(){return T(this)},f._isBigNumber=!0,f[Symbol.toStringTag]="BigNumber",f[Symbol.for("nodejs.util.inspect.custom")]=f.valueOf,null!=t&&L.set(t),L}(),xt=class{key;left=null;right=null;constructor(e){this.key=e}},Et=class extends xt{constructor(e){super(e)}},St=class{size=0;modificationCount=0;splayCount=0;splay(e){const t=this.root;if(null==t)return this.compare(e,e),-1;let n=null,r=null,i=null,o=null,s=t;const l=this.compare;let u;for(;;)if(u=l(s.key,e),u>0){let t=s.left;if(null==t)break;if(u=l(t.key,e),u>0&&(s.left=t.right,t.right=s,s=t,t=s.left,null==t))break;null==n?r=s:n.left=s,n=s,s=t}else{if(!(u<0))break;{let t=s.right;if(null==t)break;if(u=l(t.key,e),u<0&&(s.right=t.left,t.left=s,s=t,t=s.right,null==t))break;null==i?o=s:i.right=s,i=s,s=t}}return null!=i&&(i.right=s.left,s.left=o),null!=n&&(n.left=s.right,s.right=r),this.root!==s&&(this.root=s,this.splayCount++),u}splayMin(e){let t=e,n=t.left;for(;null!=n;){const e=n;t.left=e.right,e.right=t,t=e,n=t.left}return t}splayMax(e){let t=e,n=t.right;for(;null!=n;){const e=n;t.right=e.left,e.left=t,t=e,n=t.right}return t}_delete(e){if(null==this.root)return null;if(0!=this.splay(e))return null;let t=this.root;const n=t,r=t.left;if(this.size--,null==r)this.root=t.right;else{const e=t.right;t=this.splayMax(r),t.right=e,this.root=t}return this.modificationCount++,n}addNewRoot(e,t){this.size++,this.modificationCount++;const n=this.root;null!=n?(t<0?(e.left=n,e.right=n.right,n.right=null):(e.right=n,e.left=n.left,n.left=null),this.root=e):this.root=e}_first(){const e=this.root;return null==e?null:(this.root=this.splayMin(e),this.root)}_last(){const e=this.root;return null==e?null:(this.root=this.splayMax(e),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(e){return this.validKey(e)&&0==this.splay(e)}defaultCompare(){return(e,t)=>e<t?-1:e>t?1:0}wrap(){return{getRoot:()=>this.root,setRoot:e=>{this.root=e},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:e=>{this.splayCount=e},splay:e=>this.splay(e),has:e=>this.has(e)}}},Pt=class e extends St{root=null;compare;validKey;constructor(e,t){super(),this.compare=e??this.defaultCompare(),this.validKey=t??(e=>null!=e&&null!=e)}delete(e){return!!this.validKey(e)&&null!=this._delete(e)}deleteAll(e){for(const t of e)this.delete(t)}forEach(e){const t=this[Symbol.iterator]();let n;for(;n=t.next(),!n.done;)e(n.value,n.value,this)}add(e){const t=this.splay(e);return 0!=t&&this.addNewRoot(new Et(e),t),this}addAndReturn(e){const t=this.splay(e);return 0!=t&&this.addNewRoot(new Et(e),t),this.root.key}addAll(e){for(const t of e)this.add(t)}isEmpty(){return null==this.root}isNotEmpty(){return null!=this.root}single(){if(0==this.size)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(0==this.size)throw"Bad state: No element";return this._first().key}last(){if(0==this.size)throw"Bad state: No element";return this._last().key}lastBefore(e){if(null==e)throw"Invalid arguments(s)";if(null==this.root)return null;if(this.splay(e)<0)return this.root.key;let t=this.root.left;if(null==t)return null;let n=t.right;for(;null!=n;)t=n,n=t.right;return t.key}firstAfter(e){if(null==e)throw"Invalid arguments(s)";if(null==this.root)return null;if(this.splay(e)>0)return this.root.key;let t=this.root.right;if(null==t)return null;let n=t.left;for(;null!=n;)t=n,n=t.left;return t.key}retainAll(t){const n=new e(this.compare,this.validKey),r=this.modificationCount;for(const e of t){if(r!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(e)&&0==this.splay(e)&&n.add(this.root.key)}n.size!=this.size&&(this.root=n.root,this.size=n.size,this.modificationCount++)}lookup(e){if(!this.validKey(e))return null;return 0!=this.splay(e)?null:this.root.key}intersection(t){const n=new e(this.compare,this.validKey);for(const e of this)t.has(e)&&n.add(e);return n}difference(t){const n=new e(this.compare,this.validKey);for(const e of this)t.has(e)||n.add(e);return n}union(e){const t=this.clone();return t.addAll(e),t}clone(){const t=new e(this.compare,this.validKey);return t.size=this.size,t.root=this.copyNode(this.root),t}copyNode(e){if(null==e)return null;const t=new Et(e.key);return function e(t,n){let r,i;do{if(r=t.left,i=t.right,null!=r){const t=new Et(r.key);n.left=t,e(r,t)}if(null!=i){const e=new Et(i.key);n.right=e,t=i,n=e}}while(null!=i)}(e,t),t}toSet(){return this.clone()}entries(){return new It(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new Lt(this.wrap())}[Symbol.toStringTag]="[object Set]"},Ct=class{tree;path=new Array;modificationCount=null;splayCount;constructor(e){this.tree=e,this.splayCount=e.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;const e=this.path[this.path.length-1];return this.getValue(e)}rebuildPath(e){this.path.splice(0,this.path.length),this.tree.splay(e),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(e){for(;null!=e;)this.path.push(e),e=e.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(null==this.modificationCount){this.modificationCount=this.tree.getModificationCount();let e=this.tree.getRoot();for(;null!=e;)this.path.push(e),e=e.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let e=this.path[this.path.length-1],t=e.right;if(null!=t){for(;null!=t;)this.path.push(t),t=t.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===e;)e=this.path.pop();return this.path.length>0}},Lt=class extends Ct{getValue(e){return e.key}},It=class extends Ct{getValue(e){return[e.key,e.key]}},Mt=e=>()=>e,_t=e=>{const t=e?(t,n)=>n.minus(t).abs().isLessThanOrEqualTo(e):Mt(!1);return(e,n)=>t(e,n)?0:e.comparedTo(n)};function Ft(e){const t=e?(t,n,r,i,o)=>t.exponentiatedBy(2).isLessThanOrEqualTo(i.minus(n).exponentiatedBy(2).plus(o.minus(r).exponentiatedBy(2)).times(e)):Mt(!1);return(e,n,r)=>{const i=e.x,o=e.y,s=r.x,l=r.y,u=o.minus(l).times(n.x.minus(s)).minus(i.minus(s).times(n.y.minus(l)));return t(u,i,o,s,l)?0:u.comparedTo(0)}}var Tt=e=>e,Ot=e=>{if(e){const t=new Pt(_t(e)),n=new Pt(_t(e)),r=(e,t)=>t.addAndReturn(e),i=e=>({x:r(e.x,t),y:r(e.y,n)});return i({x:new bt(0),y:new bt(0)}),i}return Tt},kt=e=>({set:e=>{Rt=kt(e)},reset:()=>kt(e),compare:_t(e),snap:Ot(e),orient:Ft(e)}),Rt=kt(),At=(e,t)=>e.ll.x.isLessThanOrEqualTo(t.x)&&t.x.isLessThanOrEqualTo(e.ur.x)&&e.ll.y.isLessThanOrEqualTo(t.y)&&t.y.isLessThanOrEqualTo(e.ur.y),Nt=(e,t)=>{if(t.ur.x.isLessThan(e.ll.x)||e.ur.x.isLessThan(t.ll.x)||t.ur.y.isLessThan(e.ll.y)||e.ur.y.isLessThan(t.ll.y))return null;const n=e.ll.x.isLessThan(t.ll.x)?t.ll.x:e.ll.x,r=e.ur.x.isLessThan(t.ur.x)?e.ur.x:t.ur.x;return{ll:{x:n,y:e.ll.y.isLessThan(t.ll.y)?t.ll.y:e.ll.y},ur:{x:r,y:e.ur.y.isLessThan(t.ur.y)?e.ur.y:t.ur.y}}},Gt=(e,t)=>e.x.times(t.y).minus(e.y.times(t.x)),Bt=(e,t)=>e.x.times(t.x).plus(e.y.times(t.y)),Dt=e=>Bt(e,e).sqrt(),Ut=(e,t,n)=>{const r={x:t.x.minus(e.x),y:t.y.minus(e.y)},i={x:n.x.minus(e.x),y:n.y.minus(e.y)};return Gt(i,r).div(Dt(i)).div(Dt(r))},qt=(e,t,n)=>{const r={x:t.x.minus(e.x),y:t.y.minus(e.y)},i={x:n.x.minus(e.x),y:n.y.minus(e.y)};return Bt(i,r).div(Dt(i)).div(Dt(r))},Vt=(e,t,n)=>t.y.isZero()?null:{x:e.x.plus(t.x.div(t.y).times(n.minus(e.y))),y:n},jt=(e,t,n)=>t.x.isZero()?null:{x:n,y:e.y.plus(t.y.div(t.x).times(n.minus(e.x)))},zt=class e{point;isLeft;segment;otherSE;consumedBy;static compare(t,n){const r=e.comparePoints(t.point,n.point);return 0!==r?r:(t.point!==n.point&&t.link(n),t.isLeft!==n.isLeft?t.isLeft?1:-1:Jt.compare(t.segment,n.segment))}static comparePoints(e,t){return e.x.isLessThan(t.x)?-1:e.x.isGreaterThan(t.x)?1:e.y.isLessThan(t.y)?-1:e.y.isGreaterThan(t.y)?1:0}constructor(e,t){void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=t}link(e){if(e.point===this.point)throw new Error("Tried to link already linked events");const t=e.point.events;for(let e=0,n=t.length;e<n;e++){const n=t[e];this.point.events.push(n),n.point=this.point}this.checkForConsuming()}checkForConsuming(){const e=this.point.events.length;for(let t=0;t<e;t++){const n=this.point.events[t];if(void 0===n.segment.consumedBy)for(let r=t+1;r<e;r++){const e=this.point.events[r];void 0===e.consumedBy&&(n.otherSE.point.events===e.otherSE.point.events&&n.segment.consume(e.segment))}}}getAvailableLinkedEvents(){const e=[];for(let t=0,n=this.point.events.length;t<n;t++){const n=this.point.events[t];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&e.push(n)}return e}getLeftmostComparator(e){const t=new Map,n=n=>{const r=n.otherSE;t.set(n,{sine:Ut(this.point,e.point,r.point),cosine:qt(this.point,e.point,r.point)})};return(e,r)=>{t.has(e)||n(e),t.has(r)||n(r);const{sine:i,cosine:o}=t.get(e),{sine:s,cosine:l}=t.get(r);return i.isGreaterThanOrEqualTo(0)&&s.isGreaterThanOrEqualTo(0)?o.isLessThan(l)?1:o.isGreaterThan(l)?-1:0:i.isLessThan(0)&&s.isLessThan(0)?o.isLessThan(l)?-1:o.isGreaterThan(l)?1:0:s.isLessThan(i)?-1:s.isGreaterThan(i)?1:0}}},$t=class e{events;poly;_isExteriorRing;_enclosingRing;static factory(t){const n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];if(!i.isInResult()||i.ringOut)continue;let o=null,s=i.leftSE,l=i.rightSE;const u=[s],a=s.point,h=[];for(;o=s,s=l,u.push(s),s.point!==a;)for(;;){const t=s.getAvailableLinkedEvents();if(0===t.length){const e=u[0].point,t=u[u.length-1].point;throw new Error(`Unable to complete output ring starting at [${e.x}, ${e.y}]. Last matching segment found ends at [${t.x}, ${t.y}].`)}if(1===t.length){l=t[0].otherSE;break}let r=null;for(let e=0,t=h.length;e<t;e++)if(h[e].point===s.point){r=e;break}if(null!==r){const t=h.splice(r)[0],i=u.splice(t.index);i.unshift(i[0].otherSE),n.push(new e(i.reverse()));continue}h.push({index:u.length,point:s.point});const i=s.getLeftmostComparator(o);l=t.sort(i)[0].otherSE;break}n.push(new e(u))}return n}constructor(e){this.events=e;for(let t=0,n=e.length;t<n;t++)e[t].segment.ringOut=this;this.poly=null}getGeom(){let e=this.events[0].point;const t=[e];for(let n=1,r=this.events.length-1;n<r;n++){const r=this.events[n].point,i=this.events[n+1].point;0!==Rt.orient(r,e,i)&&(t.push(r),e=r)}if(1===t.length)return null;const n=t[0],r=t[1];0===Rt.orient(n,e,r)&&t.shift(),t.push(t[0]);const i=this.isExteriorRing()?1:-1,o=this.isExteriorRing()?0:t.length-1,s=this.isExteriorRing()?t.length:-1,l=[];for(let e=o;e!=s;e+=i)l.push([t[e].x.toNumber(),t[e].y.toNumber()]);return l}isExteriorRing(){if(void 0===this._isExteriorRing){const e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing()}return this._isExteriorRing}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let e=this.events[0];for(let t=1,n=this.events.length;t<n;t++){const n=this.events[t];zt.compare(e,n)>0&&(e=n)}let t=e.segment.prevInResult(),n=t?t.prevInResult():null;for(;;){if(!t)return null;if(!n)return t.ringOut;if(n.ringOut!==t.ringOut)return n.ringOut?.enclosingRing()!==t.ringOut?t.ringOut:t.ringOut?.enclosingRing();t=n.prevInResult(),n=t?t.prevInResult():null}}},Yt=class{exteriorRing;interiorRings;constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){const e=this.exteriorRing.getGeom();if(null===e)return null;const t=[e];for(let e=0,n=this.interiorRings.length;e<n;e++){const n=this.interiorRings[e].getGeom();null!==n&&t.push(n)}return t}},Wt=new class{type;numMultiPolys;run(e,t,n){Wt.type=e;const r=[new Qt(t,!0)];for(let e=0,t=n.length;e<t;e++)r.push(new Qt(n[e],!1));if(Wt.numMultiPolys=r.length,"difference"===Wt.type){const e=r[0];let t=1;for(;t<r.length;)null!==Nt(r[t].bbox,e.bbox)?t++:r.splice(t,1)}if("intersection"===Wt.type)for(let e=0,t=r.length;e<t;e++){const t=r[e];for(let n=e+1,i=r.length;n<i;n++)if(null===Nt(t.bbox,r[n].bbox))return[]}const i=new Pt(zt.compare);for(let e=0,t=r.length;e<t;e++){const t=r[e].getSweepEvents();for(let e=0,n=t.length;e<n;e++)i.add(t[e])}const o=new class{queue;tree;segments;constructor(e,t=Jt.compare){this.queue=e,this.tree=new Pt(t),this.segments=[]}process(e){const t=e.segment,n=[];if(e.consumedBy)return e.isLeft?this.queue.delete(e.otherSE):this.tree.delete(t),n;e.isLeft&&this.tree.add(t);let r=t,i=t;do{r=this.tree.lastBefore(r)}while(null!=r&&null!=r.consumedBy);do{i=this.tree.firstAfter(i)}while(null!=i&&null!=i.consumedBy);if(e.isLeft){let o=null;if(r){const e=r.getIntersection(t);if(null!==e&&(t.isAnEndpoint(e)||(o=e),!r.isAnEndpoint(e))){const t=this._splitSafely(r,e);for(let e=0,r=t.length;e<r;e++)n.push(t[e])}}let s=null;if(i){const e=i.getIntersection(t);if(null!==e&&(t.isAnEndpoint(e)||(s=e),!i.isAnEndpoint(e))){const t=this._splitSafely(i,e);for(let e=0,r=t.length;e<r;e++)n.push(t[e])}}if(null!==o||null!==s){let e=null;e=null===o?s:null===s||zt.comparePoints(o,s)<=0?o:s,this.queue.delete(t.rightSE),n.push(t.rightSE);const r=t.split(e);for(let e=0,t=r.length;e<t;e++)n.push(r[e])}n.length>0?(this.tree.delete(t),n.push(e)):(this.segments.push(t),t.prev=r)}else{if(r&&i){const e=r.getIntersection(i);if(null!==e){if(!r.isAnEndpoint(e)){const t=this._splitSafely(r,e);for(let e=0,r=t.length;e<r;e++)n.push(t[e])}if(!i.isAnEndpoint(e)){const t=this._splitSafely(i,e);for(let e=0,r=t.length;e<r;e++)n.push(t[e])}}}this.tree.delete(t)}return n}_splitSafely(e,t){this.tree.delete(e);const n=e.rightSE;this.queue.delete(n);const r=e.split(t);return r.push(n),void 0===e.consumedBy&&this.tree.add(e),r}}(i);let s=null;for(0!=i.size&&(s=i.first(),i.delete(s));s;){const e=o.process(s);for(let t=0,n=e.length;t<n;t++){const n=e[t];void 0===n.consumedBy&&i.add(n)}0!=i.size?(s=i.first(),i.delete(s)):s=null}Rt.reset();const l=$t.factory(o.segments),u=new class{rings;polys;constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){const e=[];for(let t=0,n=this.polys.length;t<n;t++){const n=this.polys[t].getGeom();null!==n&&e.push(n)}return e}_composePolys(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];if(!r.poly)if(r.isExteriorRing())t.push(new Yt(r));else{const e=r.enclosingRing();e?.poly||t.push(new Yt(e)),e?.poly?.addInterior(r)}}return t}}(l);return u.getGeom()}},Ht=Wt,Kt=0,Jt=class e{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(e,t){const n=e.leftSE.point.x,r=t.leftSE.point.x,i=e.rightSE.point.x,o=t.rightSE.point.x;if(o.isLessThan(n))return 1;if(i.isLessThan(r))return-1;const s=e.leftSE.point.y,l=t.leftSE.point.y,u=e.rightSE.point.y,a=t.rightSE.point.y;if(n.isLessThan(r)){if(l.isLessThan(s)&&l.isLessThan(u))return 1;if(l.isGreaterThan(s)&&l.isGreaterThan(u))return-1;const n=e.comparePoint(t.leftSE.point);if(n<0)return 1;if(n>0)return-1;const r=t.comparePoint(e.rightSE.point);return 0!==r?r:-1}if(n.isGreaterThan(r)){if(s.isLessThan(l)&&s.isLessThan(a))return-1;if(s.isGreaterThan(l)&&s.isGreaterThan(a))return 1;const n=t.comparePoint(e.leftSE.point);if(0!==n)return n;const r=e.comparePoint(t.rightSE.point);return r<0?1:r>0?-1:1}if(s.isLessThan(l))return-1;if(s.isGreaterThan(l))return 1;if(i.isLessThan(o)){const n=t.comparePoint(e.rightSE.point);if(0!==n)return n}if(i.isGreaterThan(o)){const n=e.comparePoint(t.rightSE.point);if(n<0)return 1;if(n>0)return-1}if(!i.eq(o)){const e=u.minus(s),t=i.minus(n),h=a.minus(l),c=o.minus(r);if(e.isGreaterThan(t)&&h.isLessThan(c))return 1;if(e.isLessThan(t)&&h.isGreaterThan(c))return-1}return i.isGreaterThan(o)?1:i.isLessThan(o)||u.isLessThan(a)?-1:u.isGreaterThan(a)?1:e.id<t.id?-1:e.id>t.id?1:0}constructor(e,t,n,r){this.id=++Kt,this.leftSE=e,e.segment=this,e.otherSE=t,this.rightSE=t,t.segment=this,t.otherSE=e,this.rings=n,this.windings=r}static fromRing(t,n,r){let i,o,s;const l=zt.comparePoints(t,n);if(l<0)i=t,o=n,s=1;else{if(!(l>0))throw new Error(`Tried to create degenerate segment at [${t.x}, ${t.y}]`);i=n,o=t,s=-1}const u=new zt(i,!0),a=new zt(o,!1);return new e(u,a,[r],[s])}replaceRightSE(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e.isLessThan(t)?e:t},ur:{x:this.rightSE.point.x,y:e.isGreaterThan(t)?e:t}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(e){return e.x.eq(this.leftSE.point.x)&&e.y.eq(this.leftSE.point.y)||e.x.eq(this.rightSE.point.x)&&e.y.eq(this.rightSE.point.y)}comparePoint(e){return Rt.orient(this.leftSE.point,e,this.rightSE.point)}getIntersection(e){const t=this.bbox(),n=e.bbox(),r=Nt(t,n);if(null===r)return null;const i=this.leftSE.point,o=this.rightSE.point,s=e.leftSE.point,l=e.rightSE.point,u=At(t,s)&&0===this.comparePoint(s),a=At(n,i)&&0===e.comparePoint(i),h=At(t,l)&&0===this.comparePoint(l),c=At(n,o)&&0===e.comparePoint(o);if(a&&u)return c&&!h?o:!c&&h?l:null;if(a)return h&&i.x.eq(l.x)&&i.y.eq(l.y)?null:i;if(u)return c&&o.x.eq(s.x)&&o.y.eq(s.y)?null:s;if(c&&h)return null;if(c)return o;if(h)return l;const f=((e,t,n,r)=>{if(t.x.isZero())return jt(n,r,e.x);if(r.x.isZero())return jt(e,t,n.x);if(t.y.isZero())return Vt(n,r,e.y);if(r.y.isZero())return Vt(e,t,n.y);const i=Gt(t,r);if(i.isZero())return null;const o={x:n.x.minus(e.x),y:n.y.minus(e.y)},s=Gt(o,t).div(i),l=Gt(o,r).div(i),u=e.x.plus(l.times(t.x)),a=n.x.plus(s.times(r.x)),h=e.y.plus(l.times(t.y)),c=n.y.plus(s.times(r.y));return{x:u.plus(a).div(2),y:h.plus(c).div(2)}})(i,this.vector(),s,e.vector());return null===f?null:At(r,f)?Rt.snap(f):null}split(t){const n=[],r=void 0!==t.events,i=new zt(t,!0),o=new zt(t,!1),s=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(i);const l=new e(i,s,this.rings.slice(),this.windings.slice());return zt.comparePoints(l.leftSE.point,l.rightSE.point)>0&&l.swapEvents(),zt.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(i.checkForConsuming(),o.checkForConsuming()),n}swapEvents(){const e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let e=0,t=this.windings.length;e<t;e++)this.windings[e]*=-1}consume(t){let n=this,r=t;for(;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;const i=e.compare(n,r);if(0!==i){if(i>0){const e=n;n=r,r=e}if(n.prev===r){const e=n;n=r,r=e}for(let e=0,t=r.rings.length;e<t;e++){const t=r.rings[e],i=r.windings[e],o=n.rings.indexOf(t);-1===o?(n.rings.push(t),n.windings.push(i)):n.windings[o]+=i}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}prevInResult(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}beforeState(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){const e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}afterState(){if(void 0!==this._afterState)return this._afterState;const e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};const t=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys;for(let e=0,r=this.rings.length;e<r;e++){const r=this.rings[e],i=this.windings[e],o=t.indexOf(r);-1===o?(t.push(r),n.push(i)):n[o]+=i}const i=[],o=[];for(let e=0,r=t.length;e<r;e++){if(0===n[e])continue;const r=t[e],s=r.poly;if(-1===o.indexOf(s))if(r.isExterior)i.push(s);else{-1===o.indexOf(s)&&o.push(s);const e=i.indexOf(r.poly);-1!==e&&i.splice(e,1)}}for(let e=0,t=i.length;e<t;e++){const t=i[e].multiPoly;-1===r.indexOf(t)&&r.push(t)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;const e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(Ht.type){case"union":{const n=0===e.length,r=0===t.length;this._isInResult=n!==r;break}case"intersection":{let n,r;e.length<t.length?(n=e.length,r=t.length):(n=t.length,r=e.length),this._isInResult=r===Ht.numMultiPolys&&n<r;break}case"xor":{const n=Math.abs(e.length-t.length);this._isInResult=n%2==1;break}case"difference":{const n=e=>1===e.length&&e[0].isSubject;this._isInResult=n(e)!==n(t);break}}return this._isInResult}},Zt=class{poly;isExterior;segments;bbox;constructor(e,t,n){if(!Array.isArray(e)||0===e.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=t,this.isExterior=n,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const r=Rt.snap({x:new bt(e[0][0]),y:new bt(e[0][1])});this.bbox={ll:{x:r.x,y:r.y},ur:{x:r.x,y:r.y}};let i=r;for(let t=1,n=e.length;t<n;t++){if("number"!=typeof e[t][0]||"number"!=typeof e[t][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const n=Rt.snap({x:new bt(e[t][0]),y:new bt(e[t][1])});n.x.eq(i.x)&&n.y.eq(i.y)||(this.segments.push(Jt.fromRing(i,n,this)),n.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=n.x),n.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=n.y),n.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=n.x),n.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=n.y),i=n)}r.x.eq(i.x)&&r.y.eq(i.y)||this.segments.push(Jt.fromRing(i,r,this))}getSweepEvents(){const e=[];for(let t=0,n=this.segments.length;t<n;t++){const n=this.segments[t];e.push(n.leftSE),e.push(n.rightSE)}return e}},Xt=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Zt(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let t=1,n=e.length;t<n;t++){const n=new Zt(e[t],this,!1);n.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=n.bbox.ll.x),n.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=n.bbox.ll.y),n.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=n.bbox.ur.x),n.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=n.bbox.ur.y),this.interiorRings.push(n)}this.multiPoly=t}getSweepEvents(){const e=this.exteriorRing.getSweepEvents();for(let t=0,n=this.interiorRings.length;t<n;t++){const n=this.interiorRings[t].getSweepEvents();for(let t=0,r=n.length;t<r;t++)e.push(n[t])}return e}},Qt=class{isSubject;polys;bbox;constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e])}catch(e){}this.polys=[],this.bbox={ll:{x:new bt(Number.POSITIVE_INFINITY),y:new bt(Number.POSITIVE_INFINITY)},ur:{x:new bt(Number.NEGATIVE_INFINITY),y:new bt(Number.NEGATIVE_INFINITY)}};for(let t=0,n=e.length;t<n;t++){const n=new Xt(e[t],this);n.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=n.bbox.ll.x),n.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=n.bbox.ll.y),n.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=n.bbox.ur.x),n.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=n.bbox.ur.y),this.polys.push(n)}this.isSubject=t}getSweepEvents(){const e=[];for(let t=0,n=this.polys.length;t<n;t++){const n=this.polys[t].getSweepEvents();for(let t=0,r=n.length;t<r;t++)e.push(n[t])}return e}};Rt.set;var en=function(e){const t=[];if(function(e,t){var n,r,i,o,s,l,u,a,h,c,f=0,p="FeatureCollection"===e.type,g="Feature"===e.type,y=p?e.features.length:1;for(n=0;n<y;n++){for(l=p?e.features[n].geometry:g?e.geometry:e,a=p?e.features[n].properties:g?e.properties:{},h=p?e.features[n].bbox:g?e.bbox:void 0,c=p?e.features[n].id:g?e.id:void 0,s=(u=!!l&&"GeometryCollection"===l.type)?l.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?l.geometries[i]:l))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,f,a,h,c))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===t(o.geometries[r],f,a,h,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,a,h,c))return!1;f++}}(e,(e=>{t.push(e.coordinates)})),t.length<2)throw new Error("Must have at least two features");const n=e.features[0].properties||{},r=((e,...t)=>Ht.run("difference",e,t))(t[0],...t.slice(1));return 0===r.length?null:1===r.length?he(r[0],n):ge(r,n)};const tn="split_polygon",nn="split_polygon_passing_draw_line_string",rn="split_polygon_highlight",on={highlightColor:"#222",lineWidth:0,lineWidthUnit:"kilometers",onSelectFeatureRequest(){throw new Error("no Feature is selected to split.")}},sn={SPLIT_POLYGON_MODE_STOP:"draw:split_polygon_mode:stop",SPLIT_POLYGON_MORE_THAN_TWO_POLYGONS:"draw:split_polygon_mode:more_than_two_polygons"};var ln=Object.freeze({__proto__:null,modeName:tn,passingModeName:nn,highlightPropertyName:rn,defaultOptions:on,splitPolygonModeEvents:sn});const un={};un.onSetup=function(e){const{featureIds:t=[],highlightColor:n=on.highlightColor,lineWidth:r=on.lineWidth,lineWidthUnit:i=on.lineWidthUnit,onSelectFeatureRequest:o=on.onSelectFeatureRequest}=e||{},s=this._ctx.api,l=[],u=this.getSelected();if(0!==t.length)l.push.apply(l,t.map((e=>s.get(e))));else{if(0===u.length)return o();l.push.apply(l,u.filter((e=>e.type===J||e.type===Q)).map((e=>e.toGeoJSON())))}const a={options:{highlightColor:n,lineWidth:r,lineWidthUnit:i},featuresToSplit:l,api:s};return setTimeout(this.drawAndSplit.bind(this,a),0),this.highlighFeatures(a),a},un.drawAndSplit=function(e){const{api:t,options:n}=e,{lineWidth:r,lineWidthUnit:i}=n;try{this.changeMode(nn,{onDraw:n=>{const o=[];let s=!1;e.featuresToSplit.forEach((e=>{try{if(De(e,n))return void(s=!0);if(0===r){const r=(l=e.geometry,u=n.geometry,R(l,u));r.id=e.id,t.add(r),o.push(r)}else{const s=function(e,t,n){const{line_width:r,line_width_unit:i}=n||{},o=[],s=null;let l,u,a,h,c,f;if(void 0===r||void 0===i||e.type!=J&&e.type!=Q||t.type!=Z)return s;if(De(t,e))return s;if(a=Fe(e,t),0===a.features.length)return s;for(o[0]=$e(t,r,{units:i}),o[1]=$e(t,-r,{units:i}),l=0;l<=1;l++){h=l;const n=[];for(u=0;u<t.coordinates.length;u++)n.push(t.coordinates[u]);for(u=o[h].geometry.coordinates.length-1;u>=0;u--)n.push(o[h].geometry.coordinates[u]);n.push(t.coordinates[0]),c=ce(n),tt(c),f=en(e)}return f}(e.geometry,n.geometry,{line_width:r,line_width_unit:i});s.id=e.id,t.add(s),o.push(s)}}catch(e){console.error("Error processing polygon split:",e)}var l,u})),console.log({polygons:o}),this.fireUpdate(o),this.highlighFeatures(e,!1),(1!==o.length||"MultiPolygon"===o[0].geometry.type&&2!==o[0].geometry.coordinates.length||s)&&this.map.fire(sn.SPLIT_POLYGON_MORE_THAN_TWO_POLYGONS,{newPolygons:o})},onCancel:()=>{this.highlighFeatures(e,!1),this.map.fire(sn.SPLIT_POLYGON_MODE_STOP)}})}catch(e){console.error("ð ~ file: mode.js ~ line 118 ~ err",e)}},un.highlighFeatures=function(e,t=!0){const n=t?e.options.highlightColor:void 0;e.featuresToSplit.forEach((t=>{e.api.setFeatureProperty(t.id,rn,n)}))},un.toDisplayFeatures=function(e,t,n){n(t)},un.fireUpdate=function(e){this.map.fire(ne,{action:tn,features:e})};const an="user_split_polygon_highlight";function hn(e){const t=e.featureTarget;return!!t&&(!!t.properties&&t.properties.meta===ie)}function cn(e){return 27===e.keyCode}function fn(e){return 13===e.keyCode}const pn={onSetup:function(){const e=this.newFeature({type:K,properties:{},geometry:{type:X,coordinates:[]}});return this.addFeature(e),this.clearSelectedFeatures(),this.updateUIClasses({mouse:V}),this.activateUIButton(H),this.setActionableState({trash:!0}),{point:e}},stopDrawingAndRemove:function(e){this.deleteFeature([e.point.id],{silent:!0}),this.changeMode(ee)}};pn.onTap=pn.onClick=function(e,t){this.updateUIClasses({mouse:j}),e.point.updateCoordinate("",t.lngLat.lng,t.lngLat.lat),this.map.fire(te,{features:[e.point.toGeoJSON()]}),this.changeMode(ee,{featureIds:[e.point.id]})},pn.onStop=function(e){this.activateUIButton(),e.point.getCoordinate().length||this.deleteFeature([e.point.id],{silent:!0})},pn.toDisplayFeatures=function(e,t,n){const r=t.properties.id===e.point.id;if(t.properties.active=r?oe:se,!r)return n(t)},pn.onTrash=pn.stopDrawingAndRemove,pn.onKeyUp=function(e,t){if(cn(t)||fn(t))return this.stopDrawingAndRemove(e,t)};const{onSetup:gn,onClick:yn,...dn}=pn;function mn(e,t){return!!e.lngLat&&(e.lngLat.lng===t[0]&&e.lngLat.lat===t[1])}var vn={enable(e){setTimeout((()=>{e.map&&e.map.doubleClickZoom&&e._ctx&&e._ctx.store&&e._ctx.store.getInitialConfigValue&&e._ctx.store.getInitialConfigValue("doubleClickZoom")&&e.map.doubleClickZoom.enable()}),0)},disable(e){setTimeout((()=>{e.map&&e.map.doubleClickZoom&&e.map.doubleClickZoom.disable()}),0)}};function wn(e,t,n,r){return{type:K,properties:{meta:ie,parent:e,coord_path:n,active:r?oe:se},geometry:{type:X,coordinates:t}}}const bn={onSetup:function(e){const t=(e=e||{}).featureId;let n,r,i="forward";if(t){if(n=this.getFeature(t),!n)throw new Error("Could not find a feature with the provided featureId");let o=e.from;if(o&&"Feature"===o.type&&o.geometry&&"Point"===o.geometry.type&&(o=o.geometry),o&&"Point"===o.type&&o.coordinates&&2===o.coordinates.length&&(o=o.coordinates),!o||!Array.isArray(o))throw new Error("Please use the `from` property to indicate which point to continue the line from");const s=n.coordinates.length-1;if(n.coordinates[s][0]===o[0]&&n.coordinates[s][1]===o[1])r=s+1,n.addCoordinate(r,...n.coordinates[s]);else{if(n.coordinates[0][0]!==o[0]||n.coordinates[0][1]!==o[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");i="backwards",r=0,n.addCoordinate(r,...n.coordinates[0])}}else n=this.newFeature({type:K,properties:{},geometry:{type:Z,coordinates:[]}}),r=0,this.addFeature(n);return this.clearSelectedFeatures(),vn.disable(this),this.updateUIClasses({mouse:V}),this.activateUIButton(W),this.setActionableState({trash:!0}),{line:n,currentVertexPosition:r,direction:i}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&mn(t,e.line.coordinates[e.currentVertexPosition-1])||"backwards"===e.direction&&mn(t,e.line.coordinates[e.currentVertexPosition+1]))return this.changeMode(ee,{featureIds:[e.line.id]});this.updateUIClasses({mouse:V}),e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),"forward"===e.direction?(e.currentVertexPosition++,e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat)):e.line.addCoordinate(0,t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(ee,{featureIds:[e.line.id]})},onMouseMove:function(e,t){e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),hn(t)&&this.updateUIClasses({mouse:z})}};bn.onTap=bn.onClick=function(e,t){if(hn(t))return this.clickOnVertex(e,t);this.clickAnywhere(e,t)},bn.onKeyUp=function(e,t){fn(t)?this.changeMode(ee,{featureIds:[e.line.id]}):cn(t)&&(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(ee))},bn.onStop=function(e){vn.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.line.id)&&(e.line.removeCoordinate(`${e.currentVertexPosition}`),e.line.isValid()?this.map.fire(te,{features:[e.line.toGeoJSON()]}):(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(ee,{},{silent:!0})))},bn.onTrash=function(e){this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(ee)},bn.toDisplayFeatures=function(e,t,n){const r=t.properties.id===e.line.id;if(t.properties.active=r?oe:se,!r)return n(t);t.geometry.coordinates.length<2||(t.properties.meta=re,n(wn(e.line.id,t.geometry.coordinates["forward"===e.direction?t.geometry.coordinates.length-2:1],""+("forward"===e.direction?t.geometry.coordinates.length-2:1),!1)),n(t))};const{onSetup:xn,onMouseMove:En,...Sn}=bn,Pn={originOnSetup:xn,originOnMouseMove:En,...Sn};Pn.onSetup=function(e){const t=this.originOnSetup(),{onDraw:n,onCancel:r}=e;return t.onDraw=n,t.onCancel=r,t},Pn.onMouseMove=function(e,t){this.updateUIClasses({mouse:V}),this.originOnMouseMove(e,t)},Pn.onStop=function(e){const t=e.line;this.updateUIClasses({mouse:$}),vn.enable(this),this.activateUIButton();void 0!==this.getFeature(t.id)?(t.removeCoordinate(`${e.currentVertexPosition}`),t.isValid()&&("function"==typeof e.onDraw?e.onDraw(t.toGeoJSON()):this.map.fire("draw.passing-create",{features:[t.toGeoJSON()]})),this.deleteFeature([t.id],{silent:!0}),this.changeMode(ee,{},{silent:!0})):"function"==typeof e.onCancel&&e.onCancel()};const Cn={onSetup:function(){const e=this.newFeature({type:K,properties:{},geometry:{type:J,coordinates:[[]]}});return this.addFeature(e),this.clearSelectedFeatures(),vn.disable(this),this.updateUIClasses({mouse:V}),this.activateUIButton(Y),this.setActionableState({trash:!0}),{polygon:e,currentVertexPosition:0}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&mn(t,e.polygon.coordinates[0][e.currentVertexPosition-1]))return this.changeMode(ee,{featureIds:[e.polygon.id]});this.updateUIClasses({mouse:V}),e.polygon.updateCoordinate(`0.${e.currentVertexPosition}`,t.lngLat.lng,t.lngLat.lat),e.currentVertexPosition++,e.polygon.updateCoordinate(`0.${e.currentVertexPosition}`,t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(ee,{featureIds:[e.polygon.id]})},onMouseMove:function(e,t){e.polygon.updateCoordinate(`0.${e.currentVertexPosition}`,t.lngLat.lng,t.lngLat.lat),hn(t)&&this.updateUIClasses({mouse:z})}};Cn.onTap=Cn.onClick=function(e,t){return hn(t)?this.clickOnVertex(e,t):this.clickAnywhere(e,t)},Cn.onKeyUp=function(e,t){cn(t)?(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(ee)):fn(t)&&this.changeMode(ee,{featureIds:[e.polygon.id]})},Cn.onStop=function(e){this.updateUIClasses({mouse:$}),vn.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.polygon.id)&&(e.polygon.removeCoordinate(`0.${e.currentVertexPosition}`),e.polygon.isValid()?this.map.fire(te,{features:[e.polygon.toGeoJSON()]}):(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(ee,{},{silent:!0})))},Cn.toDisplayFeatures=function(e,t,n){const r=t.properties.id===e.polygon.id;if(t.properties.active=r?oe:se,!r)return n(t);if(0===t.geometry.coordinates.length)return;const i=t.geometry.coordinates[0].length;if(!(i<3)){if(t.properties.meta=re,n(wn(e.polygon.id,t.geometry.coordinates[0][0],"0.0",!1)),i>3){const r=t.geometry.coordinates[0].length-3;n(wn(e.polygon.id,t.geometry.coordinates[0][r],`0.${r}`,!1))}if(i<=4){const e=[[t.geometry.coordinates[0][0][0],t.geometry.coordinates[0][0][1]],[t.geometry.coordinates[0][1][0],t.geometry.coordinates[0][1][1]]];if(n({type:K,properties:t.properties,geometry:{coordinates:e,type:Z}}),3===i)return}return n(t)}},Cn.onTrash=function(e){this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(ee)};const{onSetup:Ln,onMouseMove:In,...Mn}=Cn,_n="select_feature",Fn=`${_n}_highlight`,Tn={highlightColor:"#222"},On={};function kn(e){return{...e,[_n]:On}}On.onSetup=function(e){const{selectHighlightColor:t,onSelect:n,onCancel:r}=e,i={hoveredFeatureID:null,selectedFeatureID:null};i.onSelect=n,i.onCancel=r,i.api=this._ctx.api;const{selectHighlightColor:o=Tn.highlightColor}=this._ctx.options;return i.options={selectHighlightColor:t||o},i},On.onMouseMove=function(e,t){const{api:n}=e,{featureTarget:r}=t;if(r){this.updateUIClasses({mouse:z});const t=r.properties.id;null!==e.hoveredFeatureID&&e.hoveredFeatureID!==t&&n.setFeatureProperty(e.hoveredFeatureID,Fn,void 0),e.hoveredFeatureID=t,n.setFeatureProperty(e.hoveredFeatureID,Fn,e.options.selectHighlightColor)}else e.hoveredFeatureID&&n.setFeatureProperty(e.hoveredFeatureID,Fn,void 0),e.hoveredFeatureID=null},On.onClick=function(e,t){e.selectedFeatureID=e.hoveredFeatureID,this.onStop(e,t)},On.toDisplayFeatures=function(e,t,n){n(t)},On.onKeyUp=function(e,t){cn(t)&&this.changeMode(ee)},On.onStop=function(e){this.updateUIClasses({mouse:$}),vn.enable(this),this.activateUIButton(),e.selectedFeatureID?("function"==typeof e.onSelect?e.onSelect(e.selectedFeatureID):this.map.fire("draw.select_mode.select",{featureID:e.selectedFeatureID}),e.selectedFeatureID=null,this.changeMode(ee,{},{silent:!0})):"function"==typeof e.onCancel&&e.onCancel(),e.hoveredFeatureID&&(this._ctx.api.setFeatureProperty(e.hoveredFeatureID,Fn,void 0),e.hoveredFeatureID=null)},e.Constants=ln,e.default=function(e){return{...kn(e),[nn]:Pn,[tn]:un}},e.drawStyles=e=>e.map((e=>e.id.endsWith("inactive")?{...e,filter:[...e.filter,["!has",an]]}:e)).concat([{id:"split_polygon-fill-active",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["has",an]],paint:{"fill-color":["get",an],"fill-outline-color":["get",an],"fill-opacity":.1}},{id:"split_polygon-stroke-active",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["has",an]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":["get",an],"line-dasharray":[.2,2],"line-width":2}}]),e.splitPolygonMode=un,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.js.map
